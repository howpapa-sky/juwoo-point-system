# μ£Όμ° ν¬μΈνΈ μ‹μ¤ν… μ›Ή κΈ°νμ„

**μ‘μ„±μΌ:** 2025λ…„ 11μ›” 17μΌ  
**μ‘μ„±μ:** Manus AI  
**λ²„μ „:** 1.0

---

## λ©μ°¨

1. [ν”„λ΅μ νΈ κ°μ”](#1-ν”„λ΅μ νΈ-κ°μ”)
2. [κΈ°μ  μ¤νƒ λ° μ•„ν‚¤ν…μ²](#2-κΈ°μ -μ¤νƒ-λ°-μ•„ν‚¤ν…μ²)
3. [λ°μ΄ν„°λ² μ΄μ¤ μ„¤κ³„](#3-λ°μ΄ν„°λ² μ΄μ¤-μ„¤κ³„)
4. [API λ…μ„Έ](#4-api-λ…μ„Έ)
5. [κΈ°λ¥ λ…μ„Έ](#5-κΈ°λ¥-λ…μ„Έ)
6. [UI/UX λ””μμΈ κ°€μ΄λ“](#6-uiux-λ””μμΈ-κ°€μ΄λ“)
7. [ν™κ²½ μ„¤μ • λ° λ°°ν¬](#7-ν™κ²½-μ„¤μ •-λ°-λ°°ν¬)
8. [κ°λ° κ°€μ΄λ“](#8-κ°λ°-κ°€μ΄λ“)

---

## 1. ν”„λ΅μ νΈ κ°μ”

### 1.1 ν”„λ΅μ νΈ λ©μ 

μ£Όμ° ν¬μΈνΈ μ‹μ¤ν…μ€ 7μ„Έ μ–΄λ¦°μ΄ "μ£Όμ°"λ¥Ό μ„ν• ν–‰λ™ κ΄€λ¦¬ λ° λ³΄μƒ μ‹μ¤ν…μ…λ‹λ‹¤. μΆ‹μ€ ν–‰λ™(μ™μ , μ΄λ™, λ…μ„ λ“±)μ„ ν•λ©΄ ν¬μΈνΈλ¥Ό νλ“ν•κ³ , λ‚μ ν–‰λ™(κ±°μ§“λ§, λ–Όμ“°κΈ° λ“±)μ„ ν•λ©΄ ν¬μΈνΈλ¥Ό μ°¨κ°ν•©λ‹λ‹¤. λ¨μ€ ν¬μΈνΈλ΅ μƒμ μ—μ„ μ›ν•λ” λ³΄μƒ(κ²μ„ μ‹κ°„, μ¥λ‚κ°, κ°„μ‹ λ“±)μ„ κµ¬λ§¤ν•  μ μμµλ‹λ‹¤.

### 1.2 ν•µμ‹¬ κΈ°λ¥

μ΄ μ‹μ¤ν…μ€ λ‹¤μκ³Ό κ°™μ€ ν•µμ‹¬ κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤:

**ν¬μΈνΈ κ΄€λ¦¬ μ‹μ¤ν…**μ€ 37κ°μ μ‚¬μ „ μ •μλ ν¬μΈνΈ κ·μΉ™(μƒν™μµκ΄€ 8κ°, μ΄λ™κ±΄κ°• 7κ°, ν•™μµλ…μ„ 5κ°, μμνƒλ„ 5κ°, μ§‘μ•μΌ 4κ°, λ¶€μ •μ ν–‰λ™ 8κ°)μ„ ν†µν•΄ ν–‰λ™μ— λ”°λΌ ν¬μΈνΈλ¥Ό μ λ¦½ν•κ±°λ‚ μ°¨κ°ν•©λ‹λ‹¤. λ¨λ“  κ±°λ λ‚΄μ—­μ€ λ°μ΄ν„°λ² μ΄μ¤μ— κΈ°λ΅λμ–΄ μ¶”μ  κ°€λ¥ν•©λ‹λ‹¤.

**μƒμ  μ‹μ¤ν…**μ€ 34κ°μ λ³΄μƒ μ•„μ΄ν…(κ²μ„μ‹κ°„ 7κ°, μ¥λ‚κ° 5κ°, κ°„μ‹μμ‹ 7κ°, νΉλ³„ν™λ™ 8κ°, νΉκ¶ 7κ°)μ„ μ κ³µν•λ©°, κ° μ•„μ΄ν…μ€ κ³ μ ν• ν¬μΈνΈ κ°€κ²©κ³Ό μ„¤λ…μ„ κ°€μ§€κ³  μμµλ‹λ‹¤. κµ¬λ§¤ λ‚΄μ—­μ€ λ³„λ„λ΅ κ΄€λ¦¬λ©λ‹λ‹¤.

**μμ–΄ λ‹¨μ–΄ ν•™μµ μ‹μ¤ν…**μ€ 10κ° μΉ΄ν…κ³ λ¦¬(λ™λ¬Ό, μƒ‰κΉ”, μμ‹, κ°€μ΅±, μ«μ, μ‹ μ²΄, ν•™κµ, λ‚ μ”¨, λ™μ‚¬, ν•μ©μ‚¬)μ— κ±Έμ³ 100κ°μ μμ–΄ λ‹¨μ–΄λ¥Ό μ κ³µν•©λ‹λ‹¤. ν”λμ‹μΉ΄λ“ λ¨λ“μ™€ κ°κ΄€μ‹ ν€΄μ¦ λ¨λ“λ¥Ό μ§€μ›ν•λ©°, μ •λ‹µ μ‹ μλ™μΌλ΅ 50ν¬μΈνΈλ¥Ό μ λ¦½ν•©λ‹λ‹¤. ν•™μµ μ§„λ„λ” κ°λ³„μ μΌλ΅ μ¶”μ λ©λ‹λ‹¤.

**λ©ν‘ μ„¤μ • κΈ°λ¥**μ€ μ‚¬μ©μκ°€ νΉμ • μƒμ  μ•„μ΄ν…μ„ λ©ν‘λ΅ μ„¤μ •ν•κ³  μ§„ν–‰λ¥ μ„ μ¶”μ ν•  μ μκ² ν•©λ‹λ‹¤. μ—¬λ¬ λ©ν‘λ¥Ό λ™μ‹μ— κ΄€λ¦¬ν•  μ μμΌλ©°, λ©ν‘ λ‹¬μ„± μ—¬λ¶€λ¥Ό μ‹κ°μ μΌλ΅ ν‘μ‹ν•©λ‹λ‹¤.

**λ°°μ§€ λ° μ—…μ  μ‹μ¤ν…**μ€ 10κ°μ λ‹¤μ–‘ν• λ°°μ§€(μ²« ν¬μΈνΈ, 100ν¬μΈνΈ, 1000ν¬μΈνΈ, μ²« κµ¬λ§¤, 10λ² κµ¬λ§¤, μ²« μμ–΄ λ‹¨μ–΄, 50κ° λ‹¨μ–΄, μ—°μ† 7μΌ, μ—°μ† 30μΌ, λ¨λ“  μΉ΄ν…κ³ λ¦¬ μ™„λ£)λ¥Ό ν†µν•΄ μ„±μ·¨κ°μ„ μ κ³µν•©λ‹λ‹¤.

**λ€μ‹λ³΄λ“ λ° ν†µκ³„**λ” ν„μ¬ ν¬μΈνΈ μ”μ•΅, μµκ·Ό κ±°λ λ‚΄μ—­, κµ¬λ§¤ μ΄λ ¥, λ©ν‘ μ§„ν–‰λ¥ , νλ“ν• λ°°μ§€ λ“±μ„ ν•λμ— λ³Ό μ μλ” μΆ…ν•© λ€μ‹λ³΄λ“λ¥Ό μ κ³µν•©λ‹λ‹¤.

### 1.3 μ‚¬μ©μ μ‹λ‚λ¦¬μ¤

**μ‹λ‚λ¦¬μ¤ 1: ν¬μΈνΈ μ λ¦½**  
μ£Όμ°κ°€ μ•„μΉ¨μ— μΌμ° μΌμ–΄λ‚μ„ λ¶€λ¨λ‹μ΄ "μΌμ° μΌμ–΄λ‚κΈ° (+30ν¬μΈνΈ)" λ²„νΌμ„ ν΄λ¦­ν•©λ‹λ‹¤. μ‹μ¤ν…μ€ μ£Όμ°μ ν¬μΈνΈλ¥Ό 30ν¬μΈνΈ μ¦κ°€μ‹ν‚¤κ³ , κ±°λ λ‚΄μ—­μ— κΈ°λ΅ν•©λ‹λ‹¤. μ£Όμ°λ” λ€μ‹λ³΄λ“μ—μ„ μ¦κ°€ν• ν¬μΈνΈλ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.

**μ‹λ‚λ¦¬μ¤ 2: μƒμ μ—μ„ κµ¬λ§¤**  
μ£Όμ°κ°€ 100ν¬μΈνΈλ¥Ό λ¨μ•„μ„ "κ²μ„ 30λ¶„ (+100ν¬μΈνΈ)" μ•„μ΄ν…μ„ κµ¬λ§¤ν•©λ‹λ‹¤. μ‹μ¤ν…μ€ ν¬μΈνΈλ¥Ό μ°¨κ°ν•κ³  κµ¬λ§¤ λ‚΄μ—­μ— κΈ°λ΅ν•©λ‹λ‹¤. λ¶€λ¨λ‹μ€ κµ¬λ§¤ μ•λ¦Όμ„ λ°›κ³  λ³΄μƒμ„ μ κ³µν•©λ‹λ‹¤.

**μ‹λ‚λ¦¬μ¤ 3: μμ–΄ λ‹¨μ–΄ ν•™μµ**  
μ£Όμ°κ°€ μμ–΄ ν•™μµ νμ΄μ§€μ— μ ‘μ†ν•μ—¬ "λ™λ¬Ό" μΉ΄ν…κ³ λ¦¬λ¥Ό μ„ νƒν•©λ‹λ‹¤. ν”λμ‹μΉ΄λ“ λ¨λ“λ΅ 10κ°μ λ‹¨μ–΄λ¥Ό ν•™μµν• ν›„, ν€΄μ¦ λ¨λ“λ΅ μ „ν™ν•μ—¬ λ¬Έμ λ¥Ό ν’‰λ‹λ‹¤. μ •λ‹µμ„ λ§μ¶”λ©΄ μλ™μΌλ΅ 50ν¬μΈνΈκ°€ μ λ¦½λκ³ , ν•™μµ μ§„λ„κ°€ μ—…λ°μ΄νΈλ©λ‹λ‹¤.

**μ‹λ‚λ¦¬μ¤ 4: λ©ν‘ μ„¤μ •**  
μ£Όμ°κ°€ "λ κ³  μ„ΈνΈ κµ¬λ§¤ (500ν¬μΈνΈ)" μ•„μ΄ν…μ„ λ©ν‘λ΅ μ„¤μ •ν•©λ‹λ‹¤. μ‹μ¤ν…μ€ ν„μ¬ ν¬μΈνΈ(100ν¬μΈνΈ)μ™€ λ©ν‘ ν¬μΈνΈ(500ν¬μΈνΈ)λ¥Ό λΉ„κµν•μ—¬ μ§„ν–‰λ¥ (20%)μ„ ν‘μ‹ν•©λ‹λ‹¤. μ£Όμ°λ” λ©ν‘ λ‹¬μ„±μ„ μ„ν•΄ λ” μ—΄μ‹¬ν ν¬μΈνΈλ¥Ό λ¨μλ‹λ‹¤.

### 1.4 λ€μƒ μ‚¬μ©μ

**μ£Ό μ‚¬μ©μ (Primary User):** 7μ„Έ μ–΄λ¦°μ΄ "μ£Όμ°"  
μ£Όμ°λ” μ§κ΄€μ μΈ UIλ¥Ό ν†µν•΄ μμ‹ μ ν¬μΈνΈλ¥Ό ν™•μΈν•κ³ , μƒμ μ—μ„ λ³΄μƒμ„ μ„ νƒν•λ©°, μμ–΄ λ‹¨μ–΄λ¥Ό ν•™μµν•©λ‹λ‹¤. ν° λ²„νΌ, λ°μ€ μƒ‰μƒ, μ΄λ¨μ§€λ¥Ό ν™μ©ν• μΉκ·Όν• λ””μμΈμ΄ ν•„μ”ν•©λ‹λ‹¤.

**λ¶€ μ‚¬μ©μ (Secondary User):** λ¶€λ¨λ‹  
λ¶€λ¨λ‹μ€ μ£Όμ°μ ν–‰λ™μ„ κ΄€μ°°ν•κ³  ν¬μΈνΈλ¥Ό μ λ¦½/μ°¨κ°ν•λ” κ΄€λ¦¬μ μ—­ν• μ„ ν•©λ‹λ‹¤. λ€μ‹λ³΄λ“λ¥Ό ν†µν•΄ μ£Όμ°μ ν™λ™μ„ λ¨λ‹ν„°λ§ν•κ³ , κµ¬λ§¤ λ‚΄μ—­μ„ ν™•μΈν•©λ‹λ‹¤.

### 1.5 μ„±κ³µ μ§€ν‘

μ΄ ν”„λ΅μ νΈμ μ„±κ³µμ€ λ‹¤μ μ§€ν‘λ΅ μΈ΅μ •λ©λ‹λ‹¤:

**μ‚¬μ©μ μ°Έμ—¬λ„**λ” μ£Όμ°κ°€ λ§¤μΌ μ‹μ¤ν…μ— μ ‘μ†ν•μ—¬ ν¬μΈνΈλ¥Ό ν™•μΈν•κ³ , μμ–΄ λ‹¨μ–΄λ¥Ό ν•™μµν•λ©°, λ©ν‘λ¥Ό μ„¤μ •ν•λ” λΉλ„λ΅ μΈ΅μ •λ©λ‹λ‹¤. λ©ν‘λ” μ£Ό 5ν μ΄μƒ μ ‘μ†μ…λ‹λ‹¤.

**ν–‰λ™ κ°μ„ **μ€ κΈμ •μ  ν–‰λ™(ν¬μΈνΈ μ λ¦½)μ μ¦κ°€μ™€ λ¶€μ •μ  ν–‰λ™(ν¬μΈνΈ μ°¨κ°)μ κ°μ†λ΅ μΈ΅μ •λ©λ‹λ‹¤. μ›”λ³„ λΉ„κµλ¥Ό ν†µν•΄ κ°μ„  μ¶”μ΄λ¥Ό ν™•μΈν•©λ‹λ‹¤.

**ν•™μµ ν¨κ³Ό**λ” μμ–΄ λ‹¨μ–΄ ν•™μµ μ™„λ£μ¨κ³Ό μ •λ‹µλ¥ λ΅ μΈ΅μ •λ©λ‹λ‹¤. λ©ν‘λ” 100κ° λ‹¨μ–΄ μ¤‘ 80% μ΄μƒ ν•™μµ μ™„λ£μ…λ‹λ‹¤.

**μ‹μ¤ν… μ•μ •μ„±**μ€ λ΅κ·ΈμΈ μ„±κ³µλ¥ , API μ‘λ‹µ μ‹κ°„, μ¤λ¥ λ°μƒ λΉλ„λ΅ μΈ΅μ •λ©λ‹λ‹¤. λ©ν‘λ” 99% μ΄μƒμ κ°€μ©μ„±μ…λ‹λ‹¤.

---

## 2. κΈ°μ  μ¤νƒ λ° μ•„ν‚¤ν…μ²

### 2.1 κΈ°μ  μ¤νƒ

μ΄ ν”„λ΅μ νΈλ” μµμ‹  μ›Ή κΈ°μ μ„ ν™μ©ν• ν’€μ¤νƒ μ• ν”λ¦¬μΌ€μ΄μ…μ…λ‹λ‹¤. λ‹¤μ ν‘λ” κ° κ³„μΈµλ³„ μ‚¬μ©λ κΈ°μ μ„ μ •λ¦¬ν• κ²ƒμ…λ‹λ‹¤.

| κ³„μΈµ | κΈ°μ  | λ²„μ „ | μ©λ„ |
|------|------|------|------|
| **ν”„λ΅ νΈμ—”λ“** | React | 19.0.0 | UI μ»΄ν¬λ„νΈ λ° μƒνƒ κ΄€λ¦¬ |
| | TypeScript | 5.x | νƒ€μ… μ•μ „μ„± λ° κ°λ° μƒμ‚°μ„± |
| | Vite | 5.x | λΉ λ¥Έ κ°λ° μ„λ²„ λ° λΉλ“ λ„κµ¬ |
| | Tailwind CSS | 4.x | μ ν‹Έλ¦¬ν‹° κΈ°λ° μ¤νƒ€μΌλ§ |
| | shadcn/ui | latest | μ¬μ‚¬μ© κ°€λ¥ν• UI μ»΄ν¬λ„νΈ λΌμ΄λΈλ¬λ¦¬ |
| | Wouter | latest | κ²½λ‰ λΌμ°ν… λΌμ΄λΈλ¬λ¦¬ |
| | Lucide React | latest | μ•„μ΄μ½ λΌμ΄λΈλ¬λ¦¬ |
| **λ°±μ—”λ“** | Node.js | 22.x | μ„λ²„ λ°νƒ€μ„ |
| | Express | 4.x | μ›Ή ν”„λ μ„μ›ν¬ |
| | tRPC | 11.x | νƒ€μ… μ•μ „ν• API ν†µμ‹  |
| | Superjson | latest | Date λ“± λ³µμ΅ν• νƒ€μ… μ§λ ¬ν™” |
| **λ°μ΄ν„°λ² μ΄μ¤** | Supabase | latest | PostgreSQL κΈ°λ° BaaS |
| | Drizzle ORM | latest | νƒ€μ… μ•μ „ν• ORM |
| **μΈμ¦** | Supabase Auth | latest | μ΄λ©”μΌ/Google OAuth μΈμ¦ |
| **λ°°ν¬** | Manus Platform | latest | κ°λ° λ° ν”„λ΅λ•μ… ν™κ²½ |

### 2.2 μ•„ν‚¤ν…μ² κ°μ”

μ΄ μ‹μ¤ν…μ€ **ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ μ•„ν‚¤ν…μ²**λ¥Ό λ”°λ¥΄λ©°, tRPCλ¥Ό ν†µν•΄ νƒ€μ… μ•μ „ν• ν†µμ‹ μ„ λ³΄μ¥ν•©λ‹λ‹¤.

**ν”„λ΅ νΈμ—”λ“ (Client)**λ” React 19μ™€ TypeScriptλ΅ κµ¬μ¶•λμ–΄ μμΌλ©°, Viteλ¥Ό ν†µν•΄ λΉ λ¥Έ κ°λ° ν™κ²½μ„ μ κ³µν•©λ‹λ‹¤. Tailwind CSSμ™€ shadcn/uiλ¥Ό ν™μ©ν•μ—¬ μΌκ΄€λ λ””μμΈ μ‹μ¤ν…μ„ κµ¬μ¶•ν–μµλ‹λ‹¤. Wouterλ¥Ό μ‚¬μ©ν• ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λΌμ°ν…μΌλ΅ SPA(Single Page Application) κ²½ν—μ„ μ κ³µν•©λ‹λ‹¤.

**λ°±μ—”λ“ (Server)**λ” Node.jsμ™€ Expressλ¥Ό κΈ°λ°μΌλ΅ ν•λ©°, tRPCλ¥Ό ν†µν•΄ νƒ€μ… μ•μ „ν• APIλ¥Ό μ κ³µν•©λ‹λ‹¤. λ¨λ“  API μ—”λ“ν¬μΈνΈλ” `/api/trpc` κ²½λ΅ μ•„λμ— μ„μΉν•λ©°, Superjsonμ„ μ‚¬μ©ν•μ—¬ λ³µμ΅ν• νƒ€μ…(Date, BigInt λ“±)μ„ μλ™μΌλ΅ μ§λ ¬ν™”ν•©λ‹λ‹¤.

**λ°μ΄ν„°λ² μ΄μ¤ (Database)**λ” Supabase PostgreSQLμ„ μ‚¬μ©ν•λ©°, Drizzle ORMμ„ ν†µν•΄ νƒ€μ… μ•μ „ν• μΏΌλ¦¬λ¥Ό μ‘μ„±ν•©λ‹λ‹¤. λ¨λ“  ν…μ΄λΈ”μ€ snake_case λ„¤μ΄λ°μ„ λ”°λ¥΄λ©°, TypeScript μ½”λ“μ—μ„λ” camelCaseλ΅ λ³€ν™ν•μ—¬ μ‚¬μ©ν•©λ‹λ‹¤.

**μΈμ¦ (Authentication)**μ€ Supabase Authλ¥Ό μ‚¬μ©ν•μ—¬ μ΄λ©”μΌ/λΉ„λ°€λ²νΈ λ΅κ·ΈμΈκ³Ό Google OAuthλ¥Ό μ§€μ›ν•©λ‹λ‹¤. μ„Έμ…μ€ μλ™μΌλ΅ κ΄€λ¦¬λλ©°, ν΄λΌμ΄μ–ΈνΈμ—μ„ `useSupabaseAuth` ν›…μ„ ν†µν•΄ ν„μ¬ μ‚¬μ©μ μ •λ³΄μ— μ ‘κ·Όν•  μ μμµλ‹λ‹¤.

### 2.3 ν”„λ΅μ νΈ κµ¬μ΅°

ν”„λ΅μ νΈλ” λ‹¤μκ³Ό κ°™μ€ λ””λ ‰ν† λ¦¬ κµ¬μ΅°λ¥Ό κ°€μ§€κ³  μμµλ‹λ‹¤:

```
juwoo-point-system/
β”β”€β”€ client/                    # ν”„λ΅ νΈμ—”λ“ μ½”λ“
β”‚   β”β”€β”€ public/               # μ •μ  νμΌ
β”‚   β””β”€β”€ src/
β”‚       β”β”€β”€ components/       # μ¬μ‚¬μ© κ°€λ¥ν• UI μ»΄ν¬λ„νΈ
β”‚       β”‚   β””β”€β”€ ui/          # shadcn/ui μ»΄ν¬λ„νΈ
β”‚       β”β”€β”€ contexts/         # React Context (μΈμ¦ λ“±)
β”‚       β”β”€β”€ hooks/            # μ»¤μ¤ν…€ React ν›…
β”‚       β”β”€β”€ lib/              # μ ν‹Έλ¦¬ν‹° λ° μ„¤μ •
β”‚       β”‚   β”β”€β”€ supabaseClient.ts  # Supabase ν΄λΌμ΄μ–ΈνΈ
β”‚       β”‚   β””β”€β”€ trpc.ts       # tRPC ν΄λΌμ΄μ–ΈνΈ
β”‚       β”β”€β”€ pages/            # νμ΄μ§€ μ»΄ν¬λ„νΈ
β”‚       β”β”€β”€ App.tsx           # λΌμ°ν… μ„¤μ •
β”‚       β”β”€β”€ main.tsx          # μ•± μ§„μ…μ 
β”‚       β””β”€β”€ index.css         # κΈ€λ΅λ² μ¤νƒ€μΌ
β”β”€β”€ server/                    # λ°±μ—”λ“ μ½”λ“
β”‚   β”β”€β”€ _core/                # ν”„λ μ„μ›ν¬ μ½”μ–΄ (μμ • κΈμ§€)
β”‚   β”β”€β”€ db.ts                 # λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬ ν•¨μ
β”‚   β””β”€β”€ routers.ts            # tRPC λΌμ°ν„° μ •μ
β”β”€β”€ drizzle/                   # λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§
β”‚   β””β”€β”€ schema.ts             # Drizzle μ¤ν‚¤λ§ μ •μ
β”β”€β”€ shared/                    # κ³µμ  νƒ€μ… λ° μƒμ
β”‚   β””β”€β”€ const.ts              # μ•± μƒμ
β”β”€β”€ package.json              # μμ΅΄μ„± κ΄€λ¦¬
β””β”€β”€ tsconfig.json             # TypeScript μ„¤μ •
```

### 2.4 λ°μ΄ν„° νλ¦„

μ‚¬μ©μκ°€ "ν¬μΈνΈ μ λ¦½" λ²„νΌμ„ ν΄λ¦­ν•λ©΄ λ‹¤μκ³Ό κ°™μ€ λ°μ΄ν„° νλ¦„μ΄ λ°μƒν•©λ‹λ‹¤:

1. **μ‚¬μ©μ μ•΅μ…**: μ‚¬μ©μκ°€ ν”„λ΅ νΈμ—”λ“μ—μ„ "μΌμ° μΌμ–΄λ‚κΈ° (+30ν¬μΈνΈ)" λ²„νΌμ„ ν΄λ¦­ν•©λ‹λ‹¤.

2. **tRPC Mutation νΈμ¶**: ν”„λ΅ νΈμ—”λ“μ—μ„ `trpc.points.addTransaction.useMutation()`μ„ νΈμ¶ν•μ—¬ μ„λ²„μ— μ”μ²­μ„ μ „μ†΅ν•©λ‹λ‹¤.

3. **μ„λ²„ μ²λ¦¬**: μ„λ²„μ `routers.ts`μ—μ„ `addTransaction` ν”„λ΅μ‹μ €κ°€ μ‹¤ν–‰λ©λ‹λ‹¤. μ…λ ¥ λ°μ΄ν„°μ μ ν¨μ„±μ„ κ²€μ‚¬ν•κ³ , `db.ts`μ `addPointTransaction` ν•¨μλ¥Ό νΈμ¶ν•©λ‹λ‹¤.

4. **λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬**: `addPointTransaction` ν•¨μλ” Supabaseμ— λ‹¤μ μ‘μ—…μ„ μν–‰ν•©λ‹λ‹¤:
   - `point_transactions` ν…μ΄λΈ”μ— μƒ κ±°λ κΈ°λ΅ μ‚½μ…
   - `juwoo_profile` ν…μ΄λΈ”μ ν¬μΈνΈ μ”μ•΅ μ—…λ°μ΄νΈ

5. **μ‘λ‹µ λ°ν™**: μ„λ²„λ” μ—…λ°μ΄νΈλ ν¬μΈνΈ μ”μ•΅κ³Ό κ±°λ λ‚΄μ—­μ„ ν΄λΌμ΄μ–ΈνΈμ— λ°ν™ν•©λ‹λ‹¤.

6. **UI μ—…λ°μ΄νΈ**: ν”„λ΅ νΈμ—”λ“λ” λ°›μ€ λ°μ΄ν„°λ΅ UIλ¥Ό μ—…λ°μ΄νΈν•κ³ , μ‚¬μ©μμ—κ² μ„±κ³µ λ©”μ‹μ§€λ¥Ό ν‘μ‹ν•©λ‹λ‹¤.

μ΄ κ³Όμ •μ—μ„ tRPCλ” νƒ€μ… μ•μ „μ„±μ„ λ³΄μ¥ν•λ©°, Superjsonμ€ Date κ°μ²΄λ¥Ό μλ™μΌλ΅ μ§λ ¬ν™”/μ—­μ§λ ¬ν™”ν•©λ‹λ‹¤.

---

## 3. λ°μ΄ν„°λ² μ΄μ¤ μ„¤κ³„

### 3.1 λ°μ΄ν„°λ² μ΄μ¤ κ°μ”

μ΄ μ‹μ¤ν…μ€ Supabase PostgreSQLμ„ μ‚¬μ©ν•λ©°, μ΄ 11κ°μ ν…μ΄λΈ”λ΅ κµ¬μ„±λμ–΄ μμµλ‹λ‹¤. λ¨λ“  ν…μ΄λΈ”μ€ snake_case λ„¤μ΄λ° κ·μΉ™μ„ λ”°λ¥΄λ©°, κΈ°λ³Έ ν‚¤λ” `id` (auto-increment integer)λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. νƒ€μ„μ¤νƒ¬ν”„ ν•„λ“λ” `created_at`κ³Ό `updated_at`μΌλ΅ ν†µμΌλμ–΄ μμµλ‹λ‹¤.

### 3.2 ERD (Entity Relationship Diagram)

μ£Όμ” ν…μ΄λΈ” κ°„μ κ΄€κ³„λ” λ‹¤μκ³Ό κ°™μµλ‹λ‹¤:

```
users (Supabase Auth)
  β””β”€ 1:1 β”€ juwoo_profile
              β”β”€ 1:N β”€ point_transactions
              β”β”€ 1:N β”€ purchases
              β”β”€ 1:N β”€ word_learning_progress
              β”β”€ 1:N β”€ user_badges
              β””β”€ 1:N β”€ goals

point_rules (λ…λ¦½ ν…μ΄λΈ”)
  β””β”€ 1:N β”€ point_transactions

shop_items (λ…λ¦½ ν…μ΄λΈ”)
  β”β”€ 1:N β”€ purchases
  β””β”€ 1:N β”€ goals

english_words (λ…λ¦½ ν…μ΄λΈ”)
  β””β”€ 1:N β”€ word_learning_progress

badges (λ…λ¦½ ν…μ΄λΈ”)
  β””β”€ 1:N β”€ user_badges
```

### 3.3 ν…μ΄λΈ” μƒμ„Έ λ…μ„Έ

#### 3.3.1 users (μ‚¬μ©μ)

Supabase Authκ°€ μλ™μΌλ΅ κ΄€λ¦¬ν•λ” ν…μ΄λΈ”μ…λ‹λ‹¤. μ§μ ‘ μμ •ν•μ§€ μ•μµλ‹λ‹¤.

| ν•„λ“λ… | νƒ€μ… | μ μ•½ μ΅°κ±΄ | μ„¤λ… |
|--------|------|-----------|------|
| id | uuid | PRIMARY KEY | Supabase Auth μ‚¬μ©μ ID |
| email | varchar | UNIQUE | μ΄λ©”μΌ μ£Όμ† |
| created_at | timestamp | NOT NULL | κ³„μ • μƒμ„± μ‹κ° |

#### 3.3.2 juwoo_profile (μ£Όμ° ν”„λ΅ν•„)

μ£Όμ°μ κΈ°λ³Έ μ •λ³΄μ™€ ν¬μΈνΈ μ”μ•΅μ„ μ €μ¥ν•©λ‹λ‹¤.

| ν•„λ“λ… | νƒ€μ… | μ μ•½ μ΅°κ±΄ | μ„¤λ… |
|--------|------|-----------|------|
| id | integer | PRIMARY KEY, AUTO_INCREMENT | ν”„λ΅ν•„ ID |
| user_id | uuid | FOREIGN KEY (users.id), UNIQUE | Supabase Auth μ‚¬μ©μ ID |
| name | varchar(100) | NOT NULL | μ΄λ¦„ (μ: "μ£Όμ°") |
| age | integer | NOT NULL | λ‚μ΄ (μ: 7) |
| points | integer | NOT NULL, DEFAULT 0 | ν„μ¬ ν¬μΈνΈ μ”μ•΅ |
| created_at | timestamp | NOT NULL, DEFAULT NOW() | ν”„λ΅ν•„ μƒμ„± μ‹κ° |
| updated_at | timestamp | NOT NULL, DEFAULT NOW() | λ§μ§€λ§‰ μ—…λ°μ΄νΈ μ‹κ° |

**μΈλ±μ¤:**
- `idx_juwoo_profile_user_id` ON `user_id`

**λΉ„μ¦λ‹μ¤ λ΅μ§:**
- `points`λ” μμκ°€ λ  μ μ—†μµλ‹λ‹¤ (CHECK μ μ•½ μ΅°κ±΄ κ¶μ¥)
- ν¬μΈνΈ λ³€κ²½ μ‹ `updated_at`μ΄ μλ™μΌλ΅ κ°±μ‹ λ©λ‹λ‹¤

#### 3.3.3 point_rules (ν¬μΈνΈ κ·μΉ™)

ν¬μΈνΈ μ λ¦½/μ°¨κ° κ·μΉ™μ„ μ •μν•©λ‹λ‹¤. μ΄ 37κ°μ κ·μΉ™μ΄ μ‚¬μ „ μ •μλμ–΄ μμµλ‹λ‹¤.

| ν•„λ“λ… | νƒ€μ… | μ μ•½ μ΅°κ±΄ | μ„¤λ… |
|--------|------|-----------|------|
| id | integer | PRIMARY KEY, AUTO_INCREMENT | κ·μΉ™ ID |
| category | varchar(50) | NOT NULL | μΉ΄ν…κ³ λ¦¬ (μƒν™μµκ΄€, μ΄λ™κ±΄κ°•, ν•™μµλ…μ„, μμνƒλ„, μ§‘μ•μΌ, λ¶€μ •μ ν–‰λ™) |
| name | varchar(100) | NOT NULL | κ·μΉ™ μ΄λ¦„ (μ: "μΌμ° μΌμ–΄λ‚κΈ°") |
| points | integer | NOT NULL | ν¬μΈνΈ κ°’ (μ–‘μ: μ λ¦½, μμ: μ°¨κ°) |
| description | text | | μƒμ„Έ μ„¤λ… |
| icon | varchar(10) | | μ΄λ¨μ§€ μ•„μ΄μ½ |
| created_at | timestamp | NOT NULL, DEFAULT NOW() | κ·μΉ™ μƒμ„± μ‹κ° |

**μΈλ±μ¤:**
- `idx_point_rules_category` ON `category`

**μƒν” λ°μ΄ν„°:**

| id | category | name | points | icon |
|----|----------|------|--------|------|
| 1 | μƒν™μµκ΄€ | μΌμ° μΌμ–΄λ‚κΈ° | 30 | β° |
| 2 | μƒν™μµκ΄€ | μ¤μ¤λ΅ μ–‘μΉν•κΈ° | 20 | π¥ |
| 15 | λ¶€μ •μ ν–‰λ™ | κ±°μ§“λ§ν•κΈ° | -50 | π¤¥ |
| 16 | λ¶€μ •μ ν–‰λ™ | λ–Όμ“°κΈ° | -30 | π­ |

#### 3.3.4 point_transactions (ν¬μΈνΈ κ±°λ λ‚΄μ—­)

λ¨λ“  ν¬μΈνΈ μ λ¦½/μ°¨κ° λ‚΄μ—­μ„ κΈ°λ΅ν•©λ‹λ‹¤.

| ν•„λ“λ… | νƒ€μ… | μ μ•½ μ΅°κ±΄ | μ„¤λ… |
|--------|------|-----------|------|
| id | integer | PRIMARY KEY, AUTO_INCREMENT | κ±°λ ID |
| juwoo_id | integer | FOREIGN KEY (juwoo_profile.id), NOT NULL | μ£Όμ° ν”„λ΅ν•„ ID |
| rule_id | integer | FOREIGN KEY (point_rules.id), NOT NULL | ν¬μΈνΈ κ·μΉ™ ID |
| points | integer | NOT NULL | μ λ¦½/μ°¨κ°λ ν¬μΈνΈ |
| balance_after | integer | NOT NULL | κ±°λ ν›„ ν¬μΈνΈ μ”μ•΅ |
| note | text | | μ¶”κ°€ λ©”λ¨ |
| created_at | timestamp | NOT NULL, DEFAULT NOW() | κ±°λ μ‹κ° |

**μΈλ±μ¤:**
- `idx_point_transactions_juwoo_id` ON `juwoo_id`
- `idx_point_transactions_created_at` ON `created_at DESC`

**λΉ„μ¦λ‹μ¤ λ΅μ§:**
- κ±°λ λ°μƒ μ‹ `juwoo_profile.points`κ°€ μλ™μΌλ΅ μ—…λ°μ΄νΈλ©λ‹λ‹¤
- `balance_after`λ” κ±°λ ν›„ μ”μ•΅μ„ κΈ°λ΅ν•μ—¬ λ°μ΄ν„° λ¬΄κ²°μ„±μ„ κ²€μ¦ν•  μ μμµλ‹λ‹¤

#### 3.3.5 shop_items (μƒμ  μ•„μ΄ν…)

ν¬μΈνΈλ΅ κµ¬λ§¤ν•  μ μλ” λ³΄μƒ μ•„μ΄ν…μ„ μ •μν•©λ‹λ‹¤. μ΄ 34κ°μ μ•„μ΄ν…μ΄ μ‚¬μ „ μ •μλμ–΄ μμµλ‹λ‹¤.

| ν•„λ“λ… | νƒ€μ… | μ μ•½ μ΅°κ±΄ | μ„¤λ… |
|--------|------|-----------|------|
| id | integer | PRIMARY KEY, AUTO_INCREMENT | μ•„μ΄ν… ID |
| category | varchar(50) | NOT NULL | μΉ΄ν…κ³ λ¦¬ (κ²μ„μ‹κ°„, μ¥λ‚κ°, κ°„μ‹μμ‹, νΉλ³„ν™λ™, νΉκ¶) |
| name | varchar(100) | NOT NULL | μ•„μ΄ν… μ΄λ¦„ (μ: "κ²μ„ 30λ¶„") |
| price | integer | NOT NULL | ν•„μ” ν¬μΈνΈ |
| description | text | | μƒμ„Έ μ„¤λ… |
| icon | varchar(10) | | μ΄λ¨μ§€ μ•„μ΄μ½ |
| created_at | timestamp | NOT NULL, DEFAULT NOW() | μ•„μ΄ν… μƒμ„± μ‹κ° |

**μΈλ±μ¤:**
- `idx_shop_items_category` ON `category`
- `idx_shop_items_price` ON `price`

**μƒν” λ°μ΄ν„°:**

| id | category | name | price | icon |
|----|----------|------|-------|------|
| 1 | κ²μ„μ‹κ°„ | κ²μ„ 30λ¶„ | 100 | π® |
| 2 | κ²μ„μ‹κ°„ | κ²μ„ 1μ‹κ°„ | 180 | π® |
| 8 | μ¥λ‚κ° | λ κ³  μ„ΈνΈ | 500 | π§± |
| 15 | κ°„μ‹μμ‹ | μ•„μ΄μ¤ν¬λ¦Ό | 80 | π¦ |

#### 3.3.6 purchases (κµ¬λ§¤ λ‚΄μ—­)

μƒμ μ—μ„ μ•„μ΄ν…μ„ κµ¬λ§¤ν• λ‚΄μ—­μ„ κΈ°λ΅ν•©λ‹λ‹¤.

| ν•„λ“λ… | νƒ€μ… | μ μ•½ μ΅°κ±΄ | μ„¤λ… |
|--------|------|-----------|------|
| id | integer | PRIMARY KEY, AUTO_INCREMENT | κµ¬λ§¤ ID |
| juwoo_id | integer | FOREIGN KEY (juwoo_profile.id), NOT NULL | μ£Όμ° ν”„λ΅ν•„ ID |
| item_id | integer | FOREIGN KEY (shop_items.id), NOT NULL | κµ¬λ§¤ν• μ•„μ΄ν… ID |
| price | integer | NOT NULL | κµ¬λ§¤ μ‹μ μ κ°€κ²© |
| status | varchar(20) | NOT NULL, DEFAULT 'pending' | μƒνƒ (pending, completed, cancelled) |
| created_at | timestamp | NOT NULL, DEFAULT NOW() | κµ¬λ§¤ μ‹κ° |

**μΈλ±μ¤:**
- `idx_purchases_juwoo_id` ON `juwoo_id`
- `idx_purchases_created_at` ON `created_at DESC`
- `idx_purchases_status` ON `status`

**λΉ„μ¦λ‹μ¤ λ΅μ§:**
- κµ¬λ§¤ μ‹ `juwoo_profile.points`μ—μ„ `price`λ§νΌ μ°¨κ°λ©λ‹λ‹¤
- `status`κ°€ 'completed'λ΅ λ³€κ²½λλ©΄ λ¶€λ¨λ‹μ΄ λ³΄μƒμ„ μ κ³µν• κ²ƒμΌλ΅ κ°„μ£Όν•©λ‹λ‹¤

#### 3.3.7 english_words (μμ–΄ λ‹¨μ–΄)

μμ–΄ ν•™μµμ— μ‚¬μ©λλ” λ‹¨μ–΄ λ©λ΅μ…λ‹λ‹¤. μ΄ 100κ°μ λ‹¨μ–΄κ°€ μ‚¬μ „ μ •μλμ–΄ μμµλ‹λ‹¤.

| ν•„λ“λ… | νƒ€μ… | μ μ•½ μ΅°κ±΄ | μ„¤λ… |
|--------|------|-----------|------|
| id | integer | PRIMARY KEY, AUTO_INCREMENT | λ‹¨μ–΄ ID |
| category | varchar(50) | NOT NULL | μΉ΄ν…κ³ λ¦¬ (λ™λ¬Ό, μƒ‰κΉ”, μμ‹, κ°€μ΅±, μ«μ, μ‹ μ²΄, ν•™κµ, λ‚ μ”¨, λ™μ‚¬, ν•μ©μ‚¬) |
| english | varchar(100) | NOT NULL | μμ–΄ λ‹¨μ–΄ |
| korean | varchar(100) | NOT NULL | ν•κΈ€ λ» |
| difficulty | integer | NOT NULL, DEFAULT 1 | λ‚μ΄λ„ (1-5) |
| created_at | timestamp | NOT NULL, DEFAULT NOW() | λ‹¨μ–΄ μ¶”κ°€ μ‹κ° |

**μΈλ±μ¤:**
- `idx_english_words_category` ON `category`
- `idx_english_words_difficulty` ON `difficulty`

**μƒν” λ°μ΄ν„°:**

| id | category | english | korean | difficulty |
|----|----------|---------|--------|------------|
| 1 | λ™λ¬Ό | dog | κ° | 1 |
| 2 | λ™λ¬Ό | cat | κ³ μ–‘μ΄ | 1 |
| 11 | μƒ‰κΉ” | red | λΉ¨κ°• | 1 |
| 21 | μμ‹ | apple | μ‚¬κ³Ό | 1 |

#### 3.3.8 word_learning_progress (λ‹¨μ–΄ ν•™μµ μ§„λ„)

μ‚¬μ©μμ μμ–΄ λ‹¨μ–΄ ν•™μµ μ§„λ„λ¥Ό μ¶”μ ν•©λ‹λ‹¤.

| ν•„λ“λ… | νƒ€μ… | μ μ•½ μ΅°κ±΄ | μ„¤λ… |
|--------|------|-----------|------|
| id | integer | PRIMARY KEY, AUTO_INCREMENT | μ§„λ„ ID |
| juwoo_id | integer | FOREIGN KEY (juwoo_profile.id), NOT NULL | μ£Όμ° ν”„λ΅ν•„ ID |
| word_id | integer | FOREIGN KEY (english_words.id), NOT NULL | λ‹¨μ–΄ ID |
| correct_count | integer | NOT NULL, DEFAULT 0 | μ •λ‹µ νμ |
| incorrect_count | integer | NOT NULL, DEFAULT 0 | μ¤λ‹µ νμ |
| last_studied_at | timestamp | | λ§μ§€λ§‰ ν•™μµ μ‹κ° |
| created_at | timestamp | NOT NULL, DEFAULT NOW() | μ§„λ„ μƒμ„± μ‹κ° |
| updated_at | timestamp | NOT NULL, DEFAULT NOW() | λ§μ§€λ§‰ μ—…λ°μ΄νΈ μ‹κ° |

**μΈλ±μ¤:**
- `idx_word_learning_progress_juwoo_word` ON `(juwoo_id, word_id)` (UNIQUE)
- `idx_word_learning_progress_last_studied` ON `last_studied_at DESC`

**λΉ„μ¦λ‹μ¤ λ΅μ§:**
- ν€΄μ¦μ—μ„ μ •λ‹µμ„ λ§μ¶”λ©΄ `correct_count`κ°€ μ¦κ°€ν•κ³  50ν¬μΈνΈλ¥Ό μ λ¦½ν•©λ‹λ‹¤
- μ¤λ‹µ μ‹ `incorrect_count`κ°€ μ¦κ°€ν•μ§€λ§ ν¬μΈνΈλ” μ°¨κ°λμ§€ μ•μµλ‹λ‹¤

#### 3.3.9 badges (λ°°μ§€)

νλ“ κ°€λ¥ν• λ°°μ§€ λ©λ΅μ„ μ •μν•©λ‹λ‹¤. μ΄ 10κ°μ λ°°μ§€κ°€ μ‚¬μ „ μ •μλμ–΄ μμµλ‹λ‹¤.

| ν•„λ“λ… | νƒ€μ… | μ μ•½ μ΅°κ±΄ | μ„¤λ… |
|--------|------|-----------|------|
| id | integer | PRIMARY KEY, AUTO_INCREMENT | λ°°μ§€ ID |
| name | varchar(100) | NOT NULL | λ°°μ§€ μ΄λ¦„ (μ: "μ²« ν¬μΈνΈ") |
| description | text | NOT NULL | λ°°μ§€ μ„¤λ… |
| icon | varchar(10) | | μ΄λ¨μ§€ μ•„μ΄μ½ |
| condition_type | varchar(50) | NOT NULL | μ΅°κ±΄ μ ν• (points, purchases, words, streak) |
| condition_value | integer | NOT NULL | μ΅°κ±΄ κ°’ |
| created_at | timestamp | NOT NULL, DEFAULT NOW() | λ°°μ§€ μƒμ„± μ‹κ° |

**μΈλ±μ¤:**
- `idx_badges_condition_type` ON `condition_type`

**μƒν” λ°μ΄ν„°:**

| id | name | description | icon | condition_type | condition_value |
|----|------|-------------|------|----------------|-----------------|
| 1 | μ²« ν¬μΈνΈ | μ²« ν¬μΈνΈλ¥Ό νλ“ν–μ–΄μ”! | π | points | 1 |
| 2 | 100ν¬μΈνΈ | 100ν¬μΈνΈλ¥Ό λ¨μ•μ–΄μ”! | β­ | points | 100 |
| 4 | μ²« κµ¬λ§¤ | μ²« μƒμ  κµ¬λ§¤λ¥Ό ν–μ–΄μ”! | π›’ | purchases | 1 |
| 6 | μ²« μμ–΄ λ‹¨μ–΄ | μ²« μμ–΄ λ‹¨μ–΄λ¥Ό λ°°μ› μ–΄μ”! | π“ | words | 1 |
| 8 | μ—°μ† 7μΌ | 7μΌ μ—°μ† μ ‘μ†ν–μ–΄μ”! | π”¥ | streak | 7 |

#### 3.3.10 user_badges (μ‚¬μ©μ λ°°μ§€)

μ‚¬μ©μκ°€ νλ“ν• λ°°μ§€λ¥Ό κΈ°λ΅ν•©λ‹λ‹¤.

| ν•„λ“λ… | νƒ€μ… | μ μ•½ μ΅°κ±΄ | μ„¤λ… |
|--------|------|-----------|------|
| id | integer | PRIMARY KEY, AUTO_INCREMENT | μ‚¬μ©μ λ°°μ§€ ID |
| juwoo_id | integer | FOREIGN KEY (juwoo_profile.id), NOT NULL | μ£Όμ° ν”„λ΅ν•„ ID |
| badge_id | integer | FOREIGN KEY (badges.id), NOT NULL | λ°°μ§€ ID |
| earned_at | timestamp | NOT NULL, DEFAULT NOW() | νλ“ μ‹κ° |

**μΈλ±μ¤:**
- `idx_user_badges_juwoo_badge` ON `(juwoo_id, badge_id)` (UNIQUE)
- `idx_user_badges_earned_at` ON `earned_at DESC`

**λΉ„μ¦λ‹μ¤ λ΅μ§:**
- λ°°μ§€λ” ν• λ²λ§ νλ“ν•  μ μμµλ‹λ‹¤ (UNIQUE μ μ•½ μ΅°κ±΄)
- λ°°μ§€ νλ“ μ‹ μ¶•ν• λ©”μ‹μ§€λ¥Ό ν‘μ‹ν•©λ‹λ‹¤

#### 3.3.11 goals (λ©ν‘)

μ‚¬μ©μκ°€ μ„¤μ •ν• λ©ν‘λ¥Ό κ΄€λ¦¬ν•©λ‹λ‹¤.

| ν•„λ“λ… | νƒ€μ… | μ μ•½ μ΅°κ±΄ | μ„¤λ… |
|--------|------|-----------|------|
| id | integer | PRIMARY KEY, AUTO_INCREMENT | λ©ν‘ ID |
| juwoo_id | integer | FOREIGN KEY (juwoo_profile.id), NOT NULL | μ£Όμ° ν”„λ΅ν•„ ID |
| item_id | integer | FOREIGN KEY (shop_items.id), NOT NULL | λ©ν‘ μ•„μ΄ν… ID |
| target_points | integer | NOT NULL | λ©ν‘ ν¬μΈνΈ |
| is_completed | boolean | NOT NULL, DEFAULT false | μ™„λ£ μ—¬λ¶€ |
| completed_at | timestamp | | μ™„λ£ μ‹κ° |
| created_at | timestamp | NOT NULL, DEFAULT NOW() | λ©ν‘ μƒμ„± μ‹κ° |
| updated_at | timestamp | NOT NULL, DEFAULT NOW() | λ§μ§€λ§‰ μ—…λ°μ΄νΈ μ‹κ° |

**μΈλ±μ¤:**
- `idx_goals_juwoo_id` ON `juwoo_id`
- `idx_goals_is_completed` ON `is_completed`

**λΉ„μ¦λ‹μ¤ λ΅μ§:**
- ν„μ¬ ν¬μΈνΈκ°€ `target_points`μ— λ„λ‹¬ν•λ©΄ `is_completed`κ°€ trueλ΅ λ³€κ²½λ©λ‹λ‹¤
- μ™„λ£λ λ©ν‘λ” λ©λ΅μ—μ„ λ³„λ„λ΅ ν‘μ‹λ©λ‹λ‹¤

### 3.4 λ°μ΄ν„°λ² μ΄μ¤ μ΄κΈ°ν™” μ¤ν¬λ¦½νΈ

λ‹¤μ SQL μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•μ—¬ λ¨λ“  ν…μ΄λΈ”μ„ μƒμ„±ν•  μ μμµλ‹λ‹¤:

```sql
-- juwoo_profile ν…μ΄λΈ”
CREATE TABLE juwoo_profile (
  id SERIAL PRIMARY KEY,
  user_id UUID UNIQUE REFERENCES auth.users(id),
  name VARCHAR(100) NOT NULL,
  age INTEGER NOT NULL,
  points INTEGER NOT NULL DEFAULT 0 CHECK (points >= 0),
  created_at TIMESTAMP NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_juwoo_profile_user_id ON juwoo_profile(user_id);

-- point_rules ν…μ΄λΈ”
CREATE TABLE point_rules (
  id SERIAL PRIMARY KEY,
  category VARCHAR(50) NOT NULL,
  name VARCHAR(100) NOT NULL,
  points INTEGER NOT NULL,
  description TEXT,
  icon VARCHAR(10),
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_point_rules_category ON point_rules(category);

-- point_transactions ν…μ΄λΈ”
CREATE TABLE point_transactions (
  id SERIAL PRIMARY KEY,
  juwoo_id INTEGER NOT NULL REFERENCES juwoo_profile(id),
  rule_id INTEGER NOT NULL REFERENCES point_rules(id),
  points INTEGER NOT NULL,
  balance_after INTEGER NOT NULL,
  note TEXT,
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_point_transactions_juwoo_id ON point_transactions(juwoo_id);
CREATE INDEX idx_point_transactions_created_at ON point_transactions(created_at DESC);

-- shop_items ν…μ΄λΈ”
CREATE TABLE shop_items (
  id SERIAL PRIMARY KEY,
  category VARCHAR(50) NOT NULL,
  name VARCHAR(100) NOT NULL,
  price INTEGER NOT NULL CHECK (price > 0),
  description TEXT,
  icon VARCHAR(10),
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_shop_items_category ON shop_items(category);
CREATE INDEX idx_shop_items_price ON shop_items(price);

-- purchases ν…μ΄λΈ”
CREATE TABLE purchases (
  id SERIAL PRIMARY KEY,
  juwoo_id INTEGER NOT NULL REFERENCES juwoo_profile(id),
  item_id INTEGER NOT NULL REFERENCES shop_items(id),
  price INTEGER NOT NULL,
  status VARCHAR(20) NOT NULL DEFAULT 'pending',
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_purchases_juwoo_id ON purchases(juwoo_id);
CREATE INDEX idx_purchases_created_at ON purchases(created_at DESC);
CREATE INDEX idx_purchases_status ON purchases(status);

-- english_words ν…μ΄λΈ”
CREATE TABLE english_words (
  id SERIAL PRIMARY KEY,
  category VARCHAR(50) NOT NULL,
  english VARCHAR(100) NOT NULL,
  korean VARCHAR(100) NOT NULL,
  difficulty INTEGER NOT NULL DEFAULT 1 CHECK (difficulty BETWEEN 1 AND 5),
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_english_words_category ON english_words(category);
CREATE INDEX idx_english_words_difficulty ON english_words(difficulty);

-- word_learning_progress ν…μ΄λΈ”
CREATE TABLE word_learning_progress (
  id SERIAL PRIMARY KEY,
  juwoo_id INTEGER NOT NULL REFERENCES juwoo_profile(id),
  word_id INTEGER NOT NULL REFERENCES english_words(id),
  correct_count INTEGER NOT NULL DEFAULT 0,
  incorrect_count INTEGER NOT NULL DEFAULT 0,
  last_studied_at TIMESTAMP,
  created_at TIMESTAMP NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP NOT NULL DEFAULT NOW(),
  UNIQUE(juwoo_id, word_id)
);

CREATE INDEX idx_word_learning_progress_last_studied ON word_learning_progress(last_studied_at DESC);

-- badges ν…μ΄λΈ”
CREATE TABLE badges (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  description TEXT NOT NULL,
  icon VARCHAR(10),
  condition_type VARCHAR(50) NOT NULL,
  condition_value INTEGER NOT NULL,
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_badges_condition_type ON badges(condition_type);

-- user_badges ν…μ΄λΈ”
CREATE TABLE user_badges (
  id SERIAL PRIMARY KEY,
  juwoo_id INTEGER NOT NULL REFERENCES juwoo_profile(id),
  badge_id INTEGER NOT NULL REFERENCES badges(id),
  earned_at TIMESTAMP NOT NULL DEFAULT NOW(),
  UNIQUE(juwoo_id, badge_id)
);

CREATE INDEX idx_user_badges_earned_at ON user_badges(earned_at DESC);

-- goals ν…μ΄λΈ”
CREATE TABLE goals (
  id SERIAL PRIMARY KEY,
  juwoo_id INTEGER NOT NULL REFERENCES juwoo_profile(id),
  item_id INTEGER NOT NULL REFERENCES shop_items(id),
  target_points INTEGER NOT NULL,
  is_completed BOOLEAN NOT NULL DEFAULT false,
  completed_at TIMESTAMP,
  created_at TIMESTAMP NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_goals_juwoo_id ON goals(juwoo_id);
CREATE INDEX idx_goals_is_completed ON goals(is_completed);
```

---

## 4. API λ…μ„Έ

### 4.1 API κ°μ”

μ΄ μ‹μ¤ν…μ€ tRPCλ¥Ό μ‚¬μ©ν•μ—¬ νƒ€μ… μ•μ „ν• APIλ¥Ό μ κ³µν•©λ‹λ‹¤. λ¨λ“  API μ—”λ“ν¬μΈνΈλ” `/api/trpc` κ²½λ΅ μ•„λμ— μ„μΉν•λ©°, HTTP POST μ”μ²­μ„ ν†µν•΄ νΈμ¶λ©λ‹λ‹¤. tRPCλ” μλ™μΌλ΅ νƒ€μ…μ„ μ¶”λ΅ ν•λ―€λ΅, λ³„λ„μ API λ¬Έμ„ μ—†μ΄λ„ TypeScriptμ μλ™ μ™„μ„± κΈ°λ¥μ„ ν†µν•΄ APIλ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

### 4.2 μΈμ¦ (Authentication)

#### 4.2.1 ν„μ¬ μ‚¬μ©μ μ •λ³΄ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `auth.me`  
**νƒ€μ…:** Query  
**μΈμ¦:** λ¶ν•„μ”

**μ„¤λ…:** ν„μ¬ λ΅κ·ΈμΈν• μ‚¬μ©μμ μ •λ³΄λ¥Ό λ°ν™ν•©λ‹λ‹¤. λ΅κ·ΈμΈν•μ§€ μ•μ€ κ²½μ° `null`μ„ λ°ν™ν•©λ‹λ‹¤.

**μ‘λ‹µ:**
```typescript
{
  id: string;           // Supabase Auth μ‚¬μ©μ ID
  email: string;        // μ΄λ©”μΌ μ£Όμ†
  user_metadata: {      // μ‚¬μ©μ λ©”νƒ€λ°μ΄ν„°
    name?: string;
    avatar_url?: string;
  };
}
```

**ν”„λ΅ νΈμ—”λ“ μ‚¬μ© μμ‹:**
```typescript
const { data: user, isLoading } = trpc.auth.me.useQuery();

if (isLoading) return <div>λ΅λ”© μ¤‘...</div>;
if (!user) return <div>λ΅κ·ΈμΈμ΄ ν•„μ”ν•©λ‹λ‹¤</div>;

return <div>μ•λ…•ν•μ„Έμ”, {user.email}λ‹!</div>;
```

#### 4.2.2 λ΅κ·Έμ•„μ›ƒ

**μ—”λ“ν¬μΈνΈ:** `auth.logout`  
**νƒ€μ…:** Mutation  
**μΈμ¦:** λ¶ν•„μ”

**μ„¤λ…:** ν„μ¬ μ„Έμ…μ„ μΆ…λ£ν•κ³  λ΅κ·Έμ•„μ›ƒν•©λ‹λ‹¤.

**μ‘λ‹µ:**
```typescript
{
  success: true
}
```

**ν”„λ΅ νΈμ—”λ“ μ‚¬μ© μμ‹:**
```typescript
const logoutMutation = trpc.auth.logout.useMutation();

const handleLogout = async () => {
  await logoutMutation.mutateAsync();
  // λ΅κ·ΈμΈ νμ΄μ§€λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ
  window.location.href = '/login';
};
```

### 4.3 μ£Όμ° ν”„λ΅ν•„ (Juwoo Profile)

#### 4.3.1 μ£Όμ° ν”„λ΅ν•„ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `juwoo.getProfile`  
**νƒ€μ…:** Query  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** ν„μ¬ λ΅κ·ΈμΈν• μ‚¬μ©μμ μ£Όμ° ν”„λ΅ν•„μ„ λ°ν™ν•©λ‹λ‹¤.

**μ‘λ‹µ:**
```typescript
{
  id: number;
  userId: string;
  name: string;
  age: number;
  points: number;
  createdAt: Date;
  updatedAt: Date;
}
```

**ν”„λ΅ νΈμ—”λ“ μ‚¬μ© μμ‹:**
```typescript
const { data: profile } = trpc.juwoo.getProfile.useQuery();

return (
  <div>
    <h1>{profile?.name}λ‹μ ν¬μΈνΈ: {profile?.points}</h1>
  </div>
);
```

#### 4.3.2 μ£Όμ° ν¬μΈνΈ μ”μ•΅ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `juwoo.getPointBalance`  
**νƒ€μ…:** Query  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** ν„μ¬ μ£Όμ°μ ν¬μΈνΈ μ”μ•΅λ§ λ°ν™ν•©λ‹λ‹¤.

**μ‘λ‹µ:**
```typescript
{
  points: number;
}
```

### 4.4 ν¬μΈνΈ κ΄€λ¦¬ (Points)

#### 4.4.1 ν¬μΈνΈ κ·μΉ™ λ©λ΅ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `points.getRules`  
**νƒ€μ…:** Query  
**μΈμ¦:** λ¶ν•„μ”

**μ„¤λ…:** λ¨λ“  ν¬μΈνΈ κ·μΉ™μ„ μΉ΄ν…κ³ λ¦¬λ³„λ΅ λ°ν™ν•©λ‹λ‹¤.

**μ…λ ¥:**
```typescript
{
  category?: string;  // μ„ νƒμ : νΉμ • μΉ΄ν…κ³ λ¦¬λ§ ν•„ν„°λ§
}
```

**μ‘λ‹µ:**
```typescript
[
  {
    id: number;
    category: string;
    name: string;
    points: number;
    description: string | null;
    icon: string | null;
    createdAt: Date;
  }
]
```

**ν”„λ΅ νΈμ—”λ“ μ‚¬μ© μμ‹:**
```typescript
const { data: rules } = trpc.points.getRules.useQuery({ category: 'μƒν™μµκ΄€' });

return (
  <div>
    {rules?.map(rule => (
      <button key={rule.id} onClick={() => handleAddPoints(rule.id)}>
        {rule.icon} {rule.name} ({rule.points > 0 ? '+' : ''}{rule.points}ν¬μΈνΈ)
      </button>
    ))}
  </div>
);
```

#### 4.4.2 ν¬μΈνΈ κ±°λ μ¶”κ°€

**μ—”λ“ν¬μΈνΈ:** `points.addTransaction`  
**νƒ€μ…:** Mutation  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** μƒλ΅μ΄ ν¬μΈνΈ κ±°λλ¥Ό μ¶”κ°€ν•κ³  μ£Όμ°μ ν¬μΈνΈ μ”μ•΅μ„ μ—…λ°μ΄νΈν•©λ‹λ‹¤.

**μ…λ ¥:**
```typescript
{
  ruleId: number;     // ν¬μΈνΈ κ·μΉ™ ID
  note?: string;      // μ„ νƒμ : μ¶”κ°€ λ©”λ¨
}
```

**μ‘λ‹µ:**
```typescript
{
  id: number;
  juwooId: number;
  ruleId: number;
  points: number;
  balanceAfter: number;
  note: string | null;
  createdAt: Date;
}
```

**ν”„λ΅ νΈμ—”λ“ μ‚¬μ© μμ‹:**
```typescript
const addTransactionMutation = trpc.points.addTransaction.useMutation({
  onSuccess: () => {
    // ν¬μΈνΈ μ”μ•΅ λ‹¤μ‹ λ¶λ¬μ¤κΈ°
    trpc.useUtils().juwoo.getPointBalance.invalidate();
    toast.success('ν¬μΈνΈκ°€ μ λ¦½λμ—μµλ‹λ‹¤!');
  },
});

const handleAddPoints = (ruleId: number) => {
  addTransactionMutation.mutate({ ruleId });
};
```

#### 4.4.3 ν¬μΈνΈ κ±°λ λ‚΄μ—­ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `points.getTransactions`  
**νƒ€μ…:** Query  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** μ£Όμ°μ ν¬μΈνΈ κ±°λ λ‚΄μ—­μ„ μµμ‹ μμΌλ΅ λ°ν™ν•©λ‹λ‹¤.

**μ…λ ¥:**
```typescript
{
  limit?: number;     // μ„ νƒμ : λ°ν™ν•  κ°μ (κΈ°λ³Έκ°’: 10)
  offset?: number;    // μ„ νƒμ : κ±΄λ„λ›Έ κ°μ (κΈ°λ³Έκ°’: 0)
}
```

**μ‘λ‹µ:**
```typescript
[
  {
    id: number;
    juwooId: number;
    ruleId: number;
    points: number;
    balanceAfter: number;
    note: string | null;
    createdAt: Date;
    rule: {
      id: number;
      name: string;
      category: string;
      icon: string | null;
    };
  }
]
```

### 4.5 μƒμ  (Shop)

#### 4.5.1 μƒμ  μ•„μ΄ν… λ©λ΅ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `shop.getItems`  
**νƒ€μ…:** Query  
**μΈμ¦:** λ¶ν•„μ”

**μ„¤λ…:** λ¨λ“  μƒμ  μ•„μ΄ν…μ„ μΉ΄ν…κ³ λ¦¬λ³„λ΅ λ°ν™ν•©λ‹λ‹¤.

**μ…λ ¥:**
```typescript
{
  category?: string;  // μ„ νƒμ : νΉμ • μΉ΄ν…κ³ λ¦¬λ§ ν•„ν„°λ§
}
```

**μ‘λ‹µ:**
```typescript
[
  {
    id: number;
    category: string;
    name: string;
    price: number;
    description: string | null;
    icon: string | null;
    createdAt: Date;
  }
]
```

#### 4.5.2 μ•„μ΄ν… κµ¬λ§¤

**μ—”λ“ν¬μΈνΈ:** `shop.purchaseItem`  
**νƒ€μ…:** Mutation  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** μƒμ  μ•„μ΄ν…μ„ κµ¬λ§¤ν•κ³  ν¬μΈνΈλ¥Ό μ°¨κ°ν•©λ‹λ‹¤.

**μ…λ ¥:**
```typescript
{
  itemId: number;     // κµ¬λ§¤ν•  μ•„μ΄ν… ID
}
```

**μ‘λ‹µ:**
```typescript
{
  id: number;
  juwooId: number;
  itemId: number;
  price: number;
  status: string;
  createdAt: Date;
}
```

**μ—λ¬:**
- ν¬μΈνΈκ°€ λ¶€μ΅±ν• κ²½μ°: `INSUFFICIENT_POINTS`
- μ•„μ΄ν…μ΄ μ΅΄μ¬ν•μ§€ μ•λ” κ²½μ°: `ITEM_NOT_FOUND`

**ν”„λ΅ νΈμ—”λ“ μ‚¬μ© μμ‹:**
```typescript
const purchaseMutation = trpc.shop.purchaseItem.useMutation({
  onSuccess: () => {
    trpc.useUtils().juwoo.getPointBalance.invalidate();
    toast.success('κµ¬λ§¤κ°€ μ™„λ£λμ—μµλ‹λ‹¤!');
  },
  onError: (error) => {
    if (error.message === 'INSUFFICIENT_POINTS') {
      toast.error('ν¬μΈνΈκ°€ λ¶€μ΅±ν•©λ‹λ‹¤!');
    }
  },
});

const handlePurchase = (itemId: number) => {
  purchaseMutation.mutate({ itemId });
};
```

#### 4.5.3 κµ¬λ§¤ λ‚΄μ—­ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `shop.getPurchases`  
**νƒ€μ…:** Query  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** μ£Όμ°μ κµ¬λ§¤ λ‚΄μ—­μ„ μµμ‹ μμΌλ΅ λ°ν™ν•©λ‹λ‹¤.

**μ…λ ¥:**
```typescript
{
  limit?: number;     // μ„ νƒμ : λ°ν™ν•  κ°μ (κΈ°λ³Έκ°’: 10)
  offset?: number;    // μ„ νƒμ : κ±΄λ„λ›Έ κ°μ (κΈ°λ³Έκ°’: 0)
}
```

**μ‘λ‹µ:**
```typescript
[
  {
    id: number;
    juwooId: number;
    itemId: number;
    price: number;
    status: string;
    createdAt: Date;
    item: {
      id: number;
      name: string;
      category: string;
      icon: string | null;
    };
  }
]
```

### 4.6 μμ–΄ ν•™μµ (English Learning)

#### 4.6.1 μμ–΄ λ‹¨μ–΄ λ©λ΅ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `english.getWords`  
**νƒ€μ…:** Query  
**μΈμ¦:** λ¶ν•„μ”

**μ„¤λ…:** λ¨λ“  μμ–΄ λ‹¨μ–΄λ¥Ό μΉ΄ν…κ³ λ¦¬λ³„λ΅ λ°ν™ν•©λ‹λ‹¤.

**μ…λ ¥:**
```typescript
{
  category?: string;  // μ„ νƒμ : νΉμ • μΉ΄ν…κ³ λ¦¬λ§ ν•„ν„°λ§
}
```

**μ‘λ‹µ:**
```typescript
[
  {
    id: number;
    category: string;
    english: string;
    korean: string;
    difficulty: number;
    createdAt: Date;
  }
]
```

#### 4.6.2 λ‹¨μ–΄ ν•™μµ μ§„λ„ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `english.getProgress`  
**νƒ€μ…:** Query  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** μ£Όμ°μ μμ–΄ λ‹¨μ–΄ ν•™μµ μ§„λ„λ¥Ό λ°ν™ν•©λ‹λ‹¤.

**μ‘λ‹µ:**
```typescript
[
  {
    id: number;
    juwooId: number;
    wordId: number;
    correctCount: number;
    incorrectCount: number;
    lastStudiedAt: Date | null;
    createdAt: Date;
    updatedAt: Date;
    word: {
      id: number;
      english: string;
      korean: string;
      category: string;
    };
  }
]
```

#### 4.6.3 ν€΄μ¦ μ •λ‹µ μ μ¶

**μ—”λ“ν¬μΈνΈ:** `english.submitAnswer`  
**νƒ€μ…:** Mutation  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** ν€΄μ¦ μ •λ‹µμ„ μ μ¶ν•κ³  ν•™μµ μ§„λ„λ¥Ό μ—…λ°μ΄νΈν•©λ‹λ‹¤. μ •λ‹µμΈ κ²½μ° 50ν¬μΈνΈλ¥Ό μ λ¦½ν•©λ‹λ‹¤.

**μ…λ ¥:**
```typescript
{
  wordId: number;     // λ‹¨μ–΄ ID
  isCorrect: boolean; // μ •λ‹µ μ—¬λ¶€
}
```

**μ‘λ‹µ:**
```typescript
{
  success: boolean;
  pointsEarned: number;  // μ •λ‹µμΈ κ²½μ° 50, μ¤λ‹µμΈ κ²½μ° 0
  progress: {
    correctCount: number;
    incorrectCount: number;
  };
}
```

**ν”„λ΅ νΈμ—”λ“ μ‚¬μ© μμ‹:**
```typescript
const submitAnswerMutation = trpc.english.submitAnswer.useMutation({
  onSuccess: (data) => {
    if (data.pointsEarned > 0) {
      toast.success(`μ •λ‹µμ…λ‹λ‹¤! ${data.pointsEarned}ν¬μΈνΈλ¥Ό νλ“ν–μµλ‹λ‹¤!`);
    } else {
      toast.error('μ¤λ‹µμ…λ‹λ‹¤. λ‹¤μ‹ μ‹λ„ν•΄λ³΄μ„Έμ”!');
    }
  },
});

const handleSubmit = (wordId: number, isCorrect: boolean) => {
  submitAnswerMutation.mutate({ wordId, isCorrect });
};
```

### 4.7 λ©ν‘ (Goals)

#### 4.7.1 λ©ν‘ λ©λ΅ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `goals.getGoals`  
**νƒ€μ…:** Query  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** μ£Όμ°μ λ¨λ“  λ©ν‘λ¥Ό λ°ν™ν•©λ‹λ‹¤.

**μ‘λ‹µ:**
```typescript
[
  {
    id: number;
    juwooId: number;
    itemId: number;
    targetPoints: number;
    isCompleted: boolean;
    completedAt: Date | null;
    createdAt: Date;
    updatedAt: Date;
    item: {
      id: number;
      name: string;
      price: number;
      category: string;
      icon: string | null;
    };
    progress: number;  // 0-100 μ‚¬μ΄μ μ§„ν–‰λ¥ 
  }
]
```

#### 4.7.2 λ©ν‘ μ¶”κ°€

**μ—”λ“ν¬μΈνΈ:** `goals.addGoal`  
**νƒ€μ…:** Mutation  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** μƒλ΅μ΄ λ©ν‘λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤.

**μ…λ ¥:**
```typescript
{
  itemId: number;     // λ©ν‘λ΅ μ„¤μ •ν•  μƒμ  μ•„μ΄ν… ID
}
```

**μ‘λ‹µ:**
```typescript
{
  id: number;
  juwooId: number;
  itemId: number;
  targetPoints: number;
  isCompleted: boolean;
  createdAt: Date;
}
```

#### 4.7.3 λ©ν‘ μ‚­μ 

**μ—”λ“ν¬μΈνΈ:** `goals.deleteGoal`  
**νƒ€μ…:** Mutation  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** λ©ν‘λ¥Ό μ‚­μ ν•©λ‹λ‹¤.

**μ…λ ¥:**
```typescript
{
  goalId: number;     // μ‚­μ ν•  λ©ν‘ ID
}
```

**μ‘λ‹µ:**
```typescript
{
  success: boolean;
}
```

### 4.8 λ°°μ§€ (Badges)

#### 4.8.1 λ¨λ“  λ°°μ§€ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `badges.getAllBadges`  
**νƒ€μ…:** Query  
**μΈμ¦:** λ¶ν•„μ”

**μ„¤λ…:** λ¨λ“  λ°°μ§€ λ©λ΅μ„ λ°ν™ν•©λ‹λ‹¤.

**μ‘λ‹µ:**
```typescript
[
  {
    id: number;
    name: string;
    description: string;
    icon: string | null;
    conditionType: string;
    conditionValue: number;
    createdAt: Date;
  }
]
```

#### 4.8.2 μ‚¬μ©μ λ°°μ§€ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `badges.getUserBadges`  
**νƒ€μ…:** Query  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** μ£Όμ°κ°€ νλ“ν• λ°°μ§€ λ©λ΅μ„ λ°ν™ν•©λ‹λ‹¤.

**μ‘λ‹µ:**
```typescript
[
  {
    id: number;
    juwooId: number;
    badgeId: number;
    earnedAt: Date;
    badge: {
      id: number;
      name: string;
      description: string;
      icon: string | null;
    };
  }
]
```

### 4.9 λ€μ‹λ³΄λ“ (Dashboard)

#### 4.9.1 λ€μ‹λ³΄λ“ ν†µκ³„ μ΅°ν

**μ—”λ“ν¬μΈνΈ:** `dashboard.getStats`  
**νƒ€μ…:** Query  
**μΈμ¦:** ν•„μ”

**μ„¤λ…:** λ€μ‹λ³΄λ“μ— ν‘μ‹ν•  μΆ…ν•© ν†µκ³„λ¥Ό λ°ν™ν•©λ‹λ‹¤.

**μ‘λ‹µ:**
```typescript
{
  currentPoints: number;
  totalPointsEarned: number;
  totalPointsSpent: number;
  totalPurchases: number;
  totalWordsLearned: number;
  badgesEarned: number;
  recentTransactions: Array<{
    id: number;
    points: number;
    createdAt: Date;
    rule: {
      name: string;
      icon: string | null;
    };
  }>;
  recentPurchases: Array<{
    id: number;
    price: number;
    createdAt: Date;
    item: {
      name: string;
      icon: string | null;
    };
  }>;
}
```

---

## 5. κΈ°λ¥ λ…μ„Έ

### 5.1 νμ΄μ§€ κµ¬μ΅°

μ΄ μ‹μ¤ν…μ€ λ‹¤μκ³Ό κ°™μ€ νμ΄μ§€λ΅ κµ¬μ„±λμ–΄ μμµλ‹λ‹¤:

| κ²½λ΅ | νμ΄μ§€λ… | μΈμ¦ ν•„μ” | μ„¤λ… |
|------|----------|-----------|------|
| `/` | ν™ | μ•„λ‹μ¤ | μ‹μ¤ν… μ†κ° λ° μ£Όμ” κΈ°λ¥ μ•λ‚΄ |
| `/login` | λ΅κ·ΈμΈ | μ•„λ‹μ¤ | μ΄λ©”μΌ/Google λ΅κ·ΈμΈ |
| `/dashboard` | λ€μ‹λ³΄λ“ | μ | μΆ…ν•© ν†µκ³„ λ° μµκ·Ό ν™λ™ |
| `/points` | ν¬μΈνΈ μ λ¦½ | μ | ν¬μΈνΈ κ·μΉ™ λ©λ΅ λ° μ λ¦½ |
| `/shop` | μƒμ  | μ | λ³΄μƒ μ•„μ΄ν… λ©λ΅ λ° κµ¬λ§¤ |
| `/english` | μμ–΄ ν•™μµ | μ | μμ–΄ λ‹¨μ–΄ ν•™μµ λ° ν€΄μ¦ |
| `/goals` | λ©ν‘ μ„¤μ • | μ | λ©ν‘ κ΄€λ¦¬ λ° μ§„ν–‰λ¥  μ¶”μ  |
| `/badges` | λ°°μ§€ | μ | νλ“ν• λ°°μ§€ λ° λ―Ένλ“ λ°°μ§€ |

### 5.2 ν™ νμ΄μ§€ (`/`)

**λ©μ :** μ‹μ¤ν…μ„ μ²μ λ°©λ¬Έν• μ‚¬μ©μμ—κ² μ£Όμ” κΈ°λ¥μ„ μ†κ°ν•κ³  λ΅κ·ΈμΈμ„ μ λ„ν•©λ‹λ‹¤.

**μ£Όμ” μ”μ†:**

**ν—¤λ” μ„Ήμ…**μ€ ν° λ³„ μ•„μ΄μ½(β­)κ³Ό ν•¨κ» "μ£Όμ°μ ν¬μΈνΈ μ‹μ¤ν…" μ λ©μ„ ν‘μ‹ν•©λ‹λ‹¤. λ¶€μ λ©μΌλ΅ "μΆ‹μ€ ν–‰λ™μΌλ΅ ν¬μΈνΈλ¥Ό λ¨μΌκ³ , μ›ν•λ” κ²ƒμ„ μ–»μ–΄λ³΄μ„Έμ”!"λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤.

**κΈ°λ¥ μ†κ° μ„Ήμ…**μ€ 6κ°μ μΉ΄λ“λ΅ μ£Όμ” κΈ°λ¥μ„ μ„¤λ…ν•©λ‹λ‹¤:
- β¨ μ™μ λ¥Ό μΌμ° λλ‚΄λ©΄ ν¬μΈνΈ μ λ¦½
- πƒ μ΄λ™μ„ ν•λ©΄ ν¬μΈνΈ μ λ¦½
- π“ μ±…μ„ μ½μΌλ©΄ ν¬μΈνΈ μ λ¦½
- π“ μμ–΄ λ‹¨μ–΄λ¥Ό λ°°μ°λ©΄ ν¬μΈνΈ μ λ¦½
- π® ν¬μΈνΈλ΅ κ²μ„ μ‹κ°„ κµ¬λ§¤
- π ν¬μΈνΈλ΅ μ¥λ‚κ° κµ¬λ§¤

**λ΅κ·ΈμΈ λ²„νΌ**μ€ ν™”λ©΄ ν•λ‹¨μ— ν¬κ² λ°°μΉν•μ—¬ "λ΅κ·ΈμΈν•κ³  μ‹μ‘ν•κΈ°" ν…μ¤νΈλ¥Ό ν‘μ‹ν•©λ‹λ‹¤. ν΄λ¦­ μ‹ `/login` νμ΄μ§€λ΅ μ΄λ™ν•©λ‹λ‹¤.

**λ””μμΈ κ°€μ΄λ“:**
- λ°°κ²½: κ·ΈλΌλ°μ΄μ… (ν•‘ν¬-λ³΄λΌ-λΈ”λ£¨)
- μΉ΄λ“: ν°μƒ‰ λ°°κ²½, λ‘¥κ·Ό λ¨μ„λ¦¬, κ·Έλ¦Όμ ν¨κ³Ό
- ν°νΈ: ν° ν¬κΈ°, κµµμ€ κΈ€μ”¨, λ°μ€ μƒ‰μƒ
- μ΄λ¨μ§€: κ° κΈ°λ¥λ§λ‹¤ κ΄€λ ¨ μ΄λ¨μ§€ μ‚¬μ©

### 5.3 λ΅κ·ΈμΈ νμ΄μ§€ (`/login`)

**λ©μ :** μ‚¬μ©μκ°€ μ΄λ©”μΌ/λΉ„λ°€λ²νΈ λλ” Google κ³„μ •μΌλ΅ λ΅κ·ΈμΈν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

**μ£Όμ” μ”μ†:**

**λ΅κ·ΈμΈ μΉ΄λ“**λ” ν™”λ©΄ μ¤‘μ•™μ— μ„μΉν•λ©° λ‹¤μ μ”μ†λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤:
- μ λ©: "β­ μ£Όμ°μ ν¬μΈνΈ μ‹μ¤ν… β­"
- λ¶€μ λ©: "λ΅κ·ΈμΈν•μ—¬ μ‹μ‘ν•κΈ°" λλ” "μƒ κ³„μ • λ§λ“¤κΈ°"

**Google λ΅κ·ΈμΈ λ²„νΌ**μ€ Google λ΅κ³ μ™€ ν•¨κ» "Googleλ΅ λ΅κ·ΈμΈ" ν…μ¤νΈλ¥Ό ν‘μ‹ν•©λ‹λ‹¤. ν΄λ¦­ μ‹ `signInWithGoogle()` ν•¨μλ¥Ό νΈμ¶ν•μ—¬ Google OAuth νλ¦„μ„ μ‹μ‘ν•©λ‹λ‹¤.

**κµ¬λ¶„μ„ **μ€ "λλ”" ν…μ¤νΈμ™€ ν•¨κ» μν‰μ„ μ„ ν‘μ‹ν•μ—¬ Google λ΅κ·ΈμΈκ³Ό μ΄λ©”μΌ λ΅κ·ΈμΈμ„ κµ¬λ¶„ν•©λ‹λ‹¤.

**μ΄λ©”μΌ λ΅κ·ΈμΈ νΌ**μ€ λ‹¤μ μ…λ ¥ ν•„λ“λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤:
- μ΄λ©”μΌ μ…λ ¥ ν•„λ“ (type="email", required)
- λΉ„λ°€λ²νΈ μ…λ ¥ ν•„λ“ (type="password", required)
- λ΅κ·ΈμΈ/νμ›κ°€μ… λ²„νΌ

**νμ›κ°€μ… μ „ν™ λ§ν¬**λ” "κ³„μ •μ΄ μ—†μΌμ‹ κ°€μ”? νμ›κ°€μ…" λλ” "μ΄λ―Έ κ³„μ •μ΄ μμΌμ‹ κ°€μ”? λ΅κ·ΈμΈ" ν…μ¤νΈλ¥Ό ν‘μ‹ν•μ—¬ λ΅κ·ΈμΈκ³Ό νμ›κ°€μ… λ¨λ“λ¥Ό μ „ν™ν•©λ‹λ‹¤.

**λ™μ‘:**
1. Google λ΅κ·ΈμΈ: `signInWithGoogle()` νΈμ¶ β†’ Google OAuth νμ΄μ§€λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ β†’ μΈμ¦ μ™„λ£ ν›„ ν™ νμ΄μ§€(`/`)λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ
2. μ΄λ©”μΌ λ΅κ·ΈμΈ: `signInWithEmail(email, password)` νΈμ¶ β†’ μ„±κ³µ μ‹ ν™ νμ΄μ§€λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ
3. μ΄λ©”μΌ νμ›κ°€μ…: `signUpWithEmail(email, password)` νΈμ¶ β†’ μ΄λ©”μΌ ν™•μΈ λ©”μ‹μ§€ ν‘μ‹

**μ—λ¬ μ²λ¦¬:**
- μλ»λ μ΄λ©”μΌ/λΉ„λ°€λ²νΈ: "μ΄λ©”μΌ λλ” λΉ„λ°€λ²νΈκ°€ μλ»λμ—μµλ‹λ‹¤" ν† μ¤νΈ λ©”μ‹μ§€
- Google λ΅κ·ΈμΈ μ‹¤ν¨: "Google λ΅κ·ΈμΈμ— μ‹¤ν¨ν–μµλ‹λ‹¤" ν† μ¤νΈ λ©”μ‹μ§€
- λ„¤νΈμ›ν¬ μ¤λ¥: "λ„¤νΈμ›ν¬ μ¤λ¥κ°€ λ°μƒν–μµλ‹λ‹¤" ν† μ¤νΈ λ©”μ‹μ§€

### 5.4 λ€μ‹λ³΄λ“ νμ΄μ§€ (`/dashboard`)

**λ©μ :** μ£Όμ°μ ν„μ¬ μƒνƒμ™€ μµκ·Ό ν™λ™μ„ ν•λμ— λ³΄μ—¬μ¤λ‹λ‹¤.

**μ£Όμ” μ”μ†:**

**ν—¤λ” μ„Ήμ…**μ€ "μ•λ…•ν•μ„Έμ”, μ£Όμ°λ‹!" μΈμ‚¬λ§κ³Ό ν•¨κ» ν„μ¬ ν¬μΈνΈ μ”μ•΅μ„ ν° μ«μλ΅ ν‘μ‹ν•©λ‹λ‹¤. μ: "ν„μ¬ ν¬μΈνΈ: 350"

**ν†µκ³„ μΉ΄λ“**λ” 4κ°μ μΉ΄λ“λ΅ μ£Όμ” ν†µκ³„λ¥Ό ν‘μ‹ν•©λ‹λ‹¤:
- μ΄ νλ“ ν¬μΈνΈ: 1,250
- μ΄ μ‚¬μ© ν¬μΈνΈ: 900
- μ΄ κµ¬λ§¤ νμ: 12
- λ°°μ§€ νλ“: 5/10

**μµκ·Ό ν™λ™ μ„Ήμ…**μ€ λ‘ κ°μ νƒ­μΌλ΅ κµ¬μ„±λ©λ‹λ‹¤:
- ν¬μΈνΈ λ‚΄μ—­: μµκ·Ό 10κ°μ ν¬μΈνΈ κ±°λ λ‚΄μ—­μ„ μ‹κ°„ μ—­μμΌλ΅ ν‘μ‹
  - κ° ν•­λ©: μ•„μ΄μ½, κ·μΉ™ μ΄λ¦„, ν¬μΈνΈ, μ‹κ°„
  - μ: "β° μΌμ° μΌμ–΄λ‚κΈ° +30 2μ‹κ°„ μ „"
- κµ¬λ§¤ λ‚΄μ—­: μµκ·Ό 10κ°μ κµ¬λ§¤ λ‚΄μ—­μ„ μ‹κ°„ μ—­μμΌλ΅ ν‘μ‹
  - κ° ν•­λ©: μ•„μ΄μ½, μ•„μ΄ν… μ΄λ¦„, κ°€κ²©, μ‹κ°„
  - μ: "π® κ²μ„ 30λ¶„ -100 1μΌ μ „"

**λΉ λ¥Έ μ•΅μ… λ²„νΌ**μ€ μ£Όμ” κΈ°λ¥μΌλ΅ λΉ λ¥΄κ² μ΄λ™ν•  μ μλ” λ²„νΌμ„ μ κ³µν•©λ‹λ‹¤:
- "ν¬μΈνΈ μ λ¦½ν•κΈ°" β†’ `/points`
- "μƒμ  κ°€κΈ°" β†’ `/shop`
- "μμ–΄ κ³µλ¶€ν•κΈ°" β†’ `/english`

**λ””μμΈ κ°€μ΄λ“:**
- λ μ΄μ•„μ›ƒ: κ·Έλ¦¬λ“ μ‹μ¤ν… (2μ—΄ λλ” 3μ—΄)
- μΉ΄λ“: ν°μƒ‰ λ°°κ²½, λ‘¥κ·Ό λ¨μ„λ¦¬, κ·Έλ¦Όμ ν¨κ³Ό
- ν¬μΈνΈ μ«μ: ν° ν¬κΈ°, κµµμ€ κΈ€μ”¨, κ°•μ΅° μƒ‰μƒ
- μ•„μ΄μ½: κ° ν•­λ©λ§λ‹¤ κ΄€λ ¨ μ΄λ¨μ§€ μ‚¬μ©

### 5.5 ν¬μΈνΈ μ λ¦½ νμ΄μ§€ (`/points`)

**λ©μ :** μ£Όμ°κ°€ μΆ‹μ€ ν–‰λ™μ„ ν–μ„ λ• ν¬μΈνΈλ¥Ό μ λ¦½ν•κ±°λ‚, λ‚μ ν–‰λ™μ„ ν–μ„ λ• ν¬μΈνΈλ¥Ό μ°¨κ°ν•©λ‹λ‹¤.

**μ£Όμ” μ”μ†:**

**ν—¤λ” μ„Ήμ…**μ€ "ν¬μΈνΈ μ λ¦½ν•κΈ°" μ λ©κ³Ό ν•¨κ» ν„μ¬ ν¬μΈνΈ μ”μ•΅μ„ ν‘μ‹ν•©λ‹λ‹¤.

**μΉ΄ν…κ³ λ¦¬ νƒ­**μ€ 6κ°μ νƒ­μΌλ΅ ν¬μΈνΈ κ·μΉ™μ„ μΉ΄ν…κ³ λ¦¬λ³„λ΅ λ¶„λ¥ν•©λ‹λ‹¤:
- μƒν™μµκ΄€ (8κ° κ·μΉ™)
- μ΄λ™κ±΄κ°• (7κ° κ·μΉ™)
- ν•™μµλ…μ„ (5κ° κ·μΉ™)
- μμνƒλ„ (5κ° κ·μΉ™)
- μ§‘μ•μΌ (4κ° κ·μΉ™)
- λ¶€μ •μ ν–‰λ™ (8κ° κ·μΉ™)

**ν¬μΈνΈ κ·μΉ™ λ²„νΌ**μ€ κ° μΉ΄ν…κ³ λ¦¬ λ‚΄μ—μ„ κ·μΉ™μ„ λ²„νΌμΌλ΅ ν‘μ‹ν•©λ‹λ‹¤:
- μ•„μ΄μ½: κ·μΉ™μ— λ§λ” μ΄λ¨μ§€
- κ·μΉ™ μ΄λ¦„: μ) "μΌμ° μΌμ–΄λ‚κΈ°"
- ν¬μΈνΈ: μ) "+30" (μ΄λ΅μƒ‰) λλ” "-50" (λΉ¨κ°„μƒ‰)
- ν΄λ¦­ μ‹: ν™•μΈ λ‹¤μ΄μ–Όλ΅κ·Έ ν‘μ‹ β†’ ν™•μΈ μ‹ ν¬μΈνΈ μ λ¦½/μ°¨κ°

**ν™•μΈ λ‹¤μ΄μ–Όλ΅κ·Έ**λ” λ‹¤μ λ‚΄μ©μ„ ν‘μ‹ν•©λ‹λ‹¤:
- μ λ©: "ν¬μΈνΈλ¥Ό μ λ¦½ν•μ‹κ² μµλ‹κΉ?"
- λ‚΄μ©: "μΌμ° μΌμ–΄λ‚κΈ° +30ν¬μΈνΈ"
- λ²„νΌ: "μ·¨μ†", "ν™•μΈ"

**λ™μ‘:**
1. μ‚¬μ©μκ°€ κ·μΉ™ λ²„νΌ ν΄λ¦­
2. ν™•μΈ λ‹¤μ΄μ–Όλ΅κ·Έ ν‘μ‹
3. ν™•μΈ λ²„νΌ ν΄λ¦­ μ‹ `trpc.points.addTransaction.useMutation()` νΈμ¶
4. μ„±κ³µ μ‹:
   - ν¬μΈνΈ μ”μ•΅ μ—…λ°μ΄νΈ
   - "ν¬μΈνΈκ°€ μ λ¦½λμ—μµλ‹λ‹¤!" ν† μ¤νΈ λ©”μ‹μ§€
   - μµκ·Ό κ±°λ λ‚΄μ—­μ— μ¶”κ°€
5. μ‹¤ν¨ μ‹:
   - μ—λ¬ λ©”μ‹μ§€ ν‘μ‹

**λ””μμΈ κ°€μ΄λ“:**
- λ²„νΌ: ν° ν¬κΈ°, λ‘¥κ·Ό λ¨μ„λ¦¬, κ·Έλ¦Όμ ν¨κ³Ό
- κΈμ •μ  ν–‰λ™: μ΄λ΅μƒ‰ κ³„μ—΄
- λ¶€μ •μ  ν–‰λ™: λΉ¨κ°„μƒ‰ κ³„μ—΄
- λ μ΄μ•„μ›ƒ: κ·Έλ¦¬λ“ μ‹μ¤ν… (2-3μ—΄)

### 5.6 μƒμ  νμ΄μ§€ (`/shop`)

**λ©μ :** μ£Όμ°κ°€ λ¨μ€ ν¬μΈνΈλ΅ μ›ν•λ” λ³΄μƒμ„ κµ¬λ§¤ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

**μ£Όμ” μ”μ†:**

**ν—¤λ” μ„Ήμ…**μ€ "ν¬μΈνΈ μƒμ " μ λ©κ³Ό ν•¨κ» ν„μ¬ ν¬μΈνΈ μ”μ•΅μ„ ν‘μ‹ν•©λ‹λ‹¤.

**μΉ΄ν…κ³ λ¦¬ νƒ­**μ€ 5κ°μ νƒ­μΌλ΅ μƒμ  μ•„μ΄ν…μ„ μΉ΄ν…κ³ λ¦¬λ³„λ΅ λ¶„λ¥ν•©λ‹λ‹¤:
- κ²μ„μ‹κ°„ (7κ° μ•„μ΄ν…)
- μ¥λ‚κ° (5κ° μ•„μ΄ν…)
- κ°„μ‹μμ‹ (7κ° μ•„μ΄ν…)
- νΉλ³„ν™λ™ (8κ° μ•„μ΄ν…)
- νΉκ¶ (7κ° μ•„μ΄ν…)

**μ•„μ΄ν… μΉ΄λ“**λ” κ° μ•„μ΄ν…μ„ μΉ΄λ“ ν•νƒλ΅ ν‘μ‹ν•©λ‹λ‹¤:
- μ•„μ΄μ½: μ•„μ΄ν…μ— λ§λ” μ΄λ¨μ§€
- μ•„μ΄ν… μ΄λ¦„: μ) "κ²μ„ 30λ¶„"
- κ°€κ²©: μ) "100ν¬μΈνΈ"
- μ„¤λ…: κ°„λ‹¨ν• μ„¤λ… (μ„ νƒμ )
- κµ¬λ§¤ λ²„νΌ: "κµ¬λ§¤ν•κΈ°"

**κµ¬λ§¤ ν™•μΈ λ‹¤μ΄μ–Όλ΅κ·Έ**λ” λ‹¤μ λ‚΄μ©μ„ ν‘μ‹ν•©λ‹λ‹¤:
- μ λ©: "κµ¬λ§¤ν•μ‹κ² μµλ‹κΉ?"
- λ‚΄μ©: "κ²μ„ 30λ¶„ (100ν¬μΈνΈ)"
- μ”μ•΅ ν™•μΈ: "κµ¬λ§¤ ν›„ μ”μ•΅: 250ν¬μΈνΈ"
- λ²„νΌ: "μ·¨μ†", "κµ¬λ§¤"

**λ™μ‘:**
1. μ‚¬μ©μκ°€ κµ¬λ§¤ λ²„νΌ ν΄λ¦­
2. ν¬μΈνΈ λ¶€μ΅± μ‹: "ν¬μΈνΈκ°€ λ¶€μ΅±ν•©λ‹λ‹¤!" ν† μ¤νΈ λ©”μ‹μ§€
3. ν¬μΈνΈ μ¶©λ¶„ μ‹: κµ¬λ§¤ ν™•μΈ λ‹¤μ΄μ–Όλ΅κ·Έ ν‘μ‹
4. κµ¬λ§¤ λ²„νΌ ν΄λ¦­ μ‹ `trpc.shop.purchaseItem.useMutation()` νΈμ¶
5. μ„±κ³µ μ‹:
   - ν¬μΈνΈ μ°¨κ°
   - "κµ¬λ§¤κ°€ μ™„λ£λμ—μµλ‹λ‹¤!" ν† μ¤νΈ λ©”μ‹μ§€
   - κµ¬λ§¤ λ‚΄μ—­μ— μ¶”κ°€
6. μ‹¤ν¨ μ‹:
   - μ—λ¬ λ©”μ‹μ§€ ν‘μ‹

**λ””μμΈ κ°€μ΄λ“:**
- μΉ΄λ“: ν°μƒ‰ λ°°κ²½, λ‘¥κ·Ό λ¨μ„λ¦¬, κ·Έλ¦Όμ ν¨κ³Ό
- κ°€κ²©: ν° ν¬κΈ°, κµµμ€ κΈ€μ”¨, κ°•μ΅° μƒ‰μƒ
- κµ¬λ§¤ κ°€λ¥: μ΄λ΅μƒ‰ λ²„νΌ
- κµ¬λ§¤ λ¶κ°€λ¥: νμƒ‰ λ²„νΌ (λΉ„ν™μ„±ν™”)
- λ μ΄μ•„μ›ƒ: κ·Έλ¦¬λ“ μ‹μ¤ν… (2-3μ—΄)

### 5.7 μμ–΄ ν•™μµ νμ΄μ§€ (`/english`)

**λ©μ :** μ£Όμ°κ°€ μμ–΄ λ‹¨μ–΄λ¥Ό ν•™μµν•κ³  ν€΄μ¦λ¥Ό ν’€μ–΄ ν¬μΈνΈλ¥Ό νλ“ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

**μ£Όμ” μ”μ†:**

**ν—¤λ” μ„Ήμ…**μ€ "μμ–΄ κ³µλ¶€ν•κΈ°" μ λ©κ³Ό ν•¨κ» ν•™μµ μ§„λ„λ¥Ό ν‘μ‹ν•©λ‹λ‹¤. μ: "ν•™μµ μ™„λ£: 25/100 λ‹¨μ–΄"

**μΉ΄ν…κ³ λ¦¬ μ„ νƒ**μ€ 10κ°μ μΉ΄ν…κ³ λ¦¬ λ²„νΌμ„ ν‘μ‹ν•©λ‹λ‹¤:
- λ™λ¬Ό, μƒ‰κΉ”, μμ‹, κ°€μ΅±, μ«μ, μ‹ μ²΄, ν•™κµ, λ‚ μ”¨, λ™μ‚¬, ν•μ©μ‚¬

**ν•™μµ λ¨λ“ μ„ νƒ**μ€ λ‘ κ°μ λ²„νΌμ„ ν‘μ‹ν•©λ‹λ‹¤:
- ν”λμ‹μΉ΄λ“: λ‹¨μ–΄λ¥Ό λ³΄κ³  λ»μ„ ν™•μΈ
- ν€΄μ¦: 4μ§€μ„ λ‹¤ λ¬Έμ  ν’€κΈ°

**ν”λμ‹μΉ΄λ“ λ¨λ“:**
1. μΉ΄λ“ μ•λ©΄: μμ–΄ λ‹¨μ–΄ (μ: "dog")
2. μΉ΄λ“ λ’¤μ§‘κΈ°: ν΄λ¦­ μ‹ ν•κΈ€ λ» ν‘μ‹ (μ: "κ°")
3. λ‹¤μ λ²„νΌ: λ‹¤μ λ‹¨μ–΄λ΅ μ΄λ™
4. μ΄μ „ λ²„νΌ: μ΄μ „ λ‹¨μ–΄λ΅ μ΄λ™
5. μ§„ν–‰λ¥  ν‘μ‹: "3/10"

**ν€΄μ¦ λ¨λ“:**
1. λ¬Έμ : μμ–΄ λ‹¨μ–΄ ν‘μ‹ (μ: "dog")
2. μ„ νƒμ§€: 4κ°μ ν•κΈ€ λ» λ²„νΌ (μ: "κ°", "κ³ μ–‘μ΄", "μƒ", "λ¬Όκ³ κΈ°")
3. μ •λ‹µ μ„ νƒ μ‹:
   - μ΄λ΅μƒ‰μΌλ΅ κ°•μ΅°
   - "μ •λ‹µμ…λ‹λ‹¤! +50ν¬μΈνΈ" ν† μ¤νΈ λ©”μ‹μ§€
   - `trpc.english.submitAnswer.useMutation()` νΈμ¶
   - ν¬μΈνΈ μλ™ μ λ¦½
4. μ¤λ‹µ μ„ νƒ μ‹:
   - λΉ¨κ°„μƒ‰μΌλ΅ κ°•μ΅°
   - μ •λ‹µμ„ μ΄λ΅μƒ‰μΌλ΅ ν‘μ‹
   - "μ¤λ‹µμ…λ‹λ‹¤. μ •λ‹µμ€ 'κ°'μ…λ‹λ‹¤" ν† μ¤νΈ λ©”μ‹μ§€
5. λ‹¤μ λ¬Έμ  λ²„νΌ: λ‹¤μ λ‹¨μ–΄λ΅ μ΄λ™

**λ™μ‘:**
1. μΉ΄ν…κ³ λ¦¬ μ„ νƒ μ‹ ν•΄λ‹Ή μΉ΄ν…κ³ λ¦¬μ λ‹¨μ–΄ λ©λ΅ λ΅λ“
2. ν•™μµ λ¨λ“ μ„ νƒ μ‹ μ²« λ²μ§Έ λ‹¨μ–΄ ν‘μ‹
3. ν€΄μ¦ μ •λ‹µ μ μ¶ μ‹:
   - ν•™μµ μ§„λ„ μ—…λ°μ΄νΈ
   - μ •λ‹µμΈ κ²½μ° 50ν¬μΈνΈ μ λ¦½
   - ν¬μΈνΈ μ”μ•΅ μ—…λ°μ΄νΈ

**λ””μμΈ κ°€μ΄λ“:**
- μΉ΄λ“: ν° ν¬κΈ°, λ‘¥κ·Ό λ¨μ„λ¦¬, κ·Έλ¦Όμ ν¨κ³Ό
- μμ–΄ λ‹¨μ–΄: λ§¤μ° ν° ν¬κΈ°, κµµμ€ κΈ€μ”¨
- ν•κΈ€ λ»: μ¤‘κ°„ ν¬κΈ°
- μ„ νƒμ§€ λ²„νΌ: ν° ν¬κΈ°, λ…ν™•ν• κµ¬λ¶„
- μ •λ‹µ: μ΄λ΅μƒ‰ λ°°κ²½
- μ¤λ‹µ: λΉ¨κ°„μƒ‰ λ°°κ²½

### 5.8 λ©ν‘ μ„¤μ • νμ΄μ§€ (`/goals`)

**λ©μ :** μ£Όμ°κ°€ μ›ν•λ” μƒμ  μ•„μ΄ν…μ„ λ©ν‘λ΅ μ„¤μ •ν•κ³  μ§„ν–‰λ¥ μ„ μ¶”μ ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

**μ£Όμ” μ”μ†:**

**ν—¤λ” μ„Ήμ…**μ€ "λ©ν‘ μ„¤μ •" μ λ©κ³Ό ν•¨κ» ν„μ¬ ν¬μΈνΈ μ”μ•΅μ„ ν‘μ‹ν•©λ‹λ‹¤.

**ν„μ¬ λ©ν‘ μ„Ήμ…**μ€ μ„¤μ •λ λ©ν‘λ¥Ό μΉ΄λ“ ν•νƒλ΅ ν‘μ‹ν•©λ‹λ‹¤:
- μ•„μ΄ν… μ•„μ΄μ½ λ° μ΄λ¦„
- λ©ν‘ ν¬μΈνΈ: μ) "500ν¬μΈνΈ"
- ν„μ¬ ν¬μΈνΈ: μ) "250ν¬μΈνΈ"
- μ§„ν–‰λ¥  λ°”: μ‹κ°μ μΌλ΅ μ§„ν–‰λ¥  ν‘μ‹ (μ: 50%)
- λ‚¨μ€ ν¬μΈνΈ: μ) "250ν¬μΈνΈ λ” ν•„μ”"
- μ‚­μ  λ²„νΌ: λ©ν‘ μ‚­μ 

**μƒ λ©ν‘ μ¶”κ°€ λ²„νΌ**μ€ "+" μ•„μ΄μ½κ³Ό ν•¨κ» "μƒ λ©ν‘ μ¶”κ°€" ν…μ¤νΈλ¥Ό ν‘μ‹ν•©λ‹λ‹¤. ν΄λ¦­ μ‹ μƒμ  μ•„μ΄ν… μ„ νƒ λ‹¤μ΄μ–Όλ΅κ·Έλ¥Ό ν‘μ‹ν•©λ‹λ‹¤.

**μƒμ  μ•„μ΄ν… μ„ νƒ λ‹¤μ΄μ–Όλ΅κ·Έ**λ” λ¨λ“  μƒμ  μ•„μ΄ν…μ„ λ©λ΅μΌλ΅ ν‘μ‹ν•©λ‹λ‹¤:
- κ° μ•„μ΄ν…: μ•„μ΄μ½, μ΄λ¦„, κ°€κ²©
- μ„ νƒ λ²„νΌ: "λ©ν‘λ΅ μ„¤μ •"

**λ™μ‘:**
1. μƒ λ©ν‘ μ¶”κ°€ λ²„νΌ ν΄λ¦­
2. μƒμ  μ•„μ΄ν… μ„ νƒ λ‹¤μ΄μ–Όλ΅κ·Έ ν‘μ‹
3. μ•„μ΄ν… μ„ νƒ μ‹ `trpc.goals.addGoal.useMutation()` νΈμ¶
4. μ„±κ³µ μ‹:
   - λ©ν‘ λ©λ΅μ— μ¶”κ°€
   - "λ©ν‘κ°€ μ„¤μ •λμ—μµλ‹λ‹¤!" ν† μ¤νΈ λ©”μ‹μ§€
5. λ©ν‘ μ‚­μ  μ‹ `trpc.goals.deleteGoal.useMutation()` νΈμ¶

**λ””μμΈ κ°€μ΄λ“:**
- μ§„ν–‰λ¥  λ°”: μ΄λ΅μƒ‰ (μ§„ν–‰), νμƒ‰ (λ―Έμ§„ν–‰)
- μ™„λ£λ λ©ν‘: κΈμƒ‰ ν…λ‘λ¦¬, μ¶•ν• μ•„μ΄μ½
- λ μ΄μ•„μ›ƒ: κ·Έλ¦¬λ“ μ‹μ¤ν… (2μ—΄)

### 5.9 λ°°μ§€ νμ΄μ§€ (`/badges`)

**λ©μ :** μ£Όμ°κ°€ νλ“ν• λ°°μ§€μ™€ λ―Ένλ“ λ°°μ§€λ¥Ό ν™•μΈν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

**μ£Όμ” μ”μ†:**

**ν—¤λ” μ„Ήμ…**μ€ "λ°°μ§€ μ»¬λ ‰μ…" μ λ©κ³Ό ν•¨κ» νλ“ν• λ°°μ§€ κ°μλ¥Ό ν‘μ‹ν•©λ‹λ‹¤. μ: "5/10 λ°°μ§€ νλ“"

**λ°°μ§€ κ·Έλ¦¬λ“**λ” λ¨λ“  λ°°μ§€λ¥Ό μΉ΄λ“ ν•νƒλ΅ ν‘μ‹ν•©λ‹λ‹¤:
- νλ“ν• λ°°μ§€:
  - μ»¬λ¬ μ•„μ΄μ½
  - λ°°μ§€ μ΄λ¦„
  - λ°°μ§€ μ„¤λ…
  - νλ“ λ‚ μ§
- λ―Ένλ“ λ°°μ§€:
  - νμƒ‰ μ•„μ΄μ½
  - λ°°μ§€ μ΄λ¦„
  - νλ“ μ΅°κ±΄
  - μ κΈ μ•„μ΄μ½

**λ°°μ§€ μƒμ„Έ λ‹¤μ΄μ–Όλ΅κ·Έ**λ” λ°°μ§€ ν΄λ¦­ μ‹ λ‹¤μ λ‚΄μ©μ„ ν‘μ‹ν•©λ‹λ‹¤:
- ν° μ•„μ΄μ½
- λ°°μ§€ μ΄λ¦„
- λ°°μ§€ μ„¤λ…
- νλ“ μ΅°κ±΄ λλ” νλ“ λ‚ μ§
- λ‹«κΈ° λ²„νΌ

**λ™μ‘:**
1. νμ΄μ§€ λ΅λ“ μ‹ λ¨λ“  λ°°μ§€μ™€ μ‚¬μ©μ λ°°μ§€ λ΅λ“
2. λ°°μ§€ ν΄λ¦­ μ‹ μƒμ„Έ λ‹¤μ΄μ–Όλ΅κ·Έ ν‘μ‹
3. λ°°μ§€ νλ“ μ‹ (μλ™):
   - μ¶•ν• μ• λ‹λ©”μ΄μ… ν‘μ‹
   - "μƒ λ°°μ§€λ¥Ό νλ“ν–μµλ‹λ‹¤!" ν† μ¤νΈ λ©”μ‹μ§€

**λ””μμΈ κ°€μ΄λ“:**
- νλ“ν• λ°°μ§€: λ°μ€ μƒ‰μƒ, κ·Έλ¦Όμ ν¨κ³Ό
- λ―Ένλ“ λ°°μ§€: νμƒ‰ ν•„ν„°, λ°ν¬λ…
- λ μ΄μ•„μ›ƒ: κ·Έλ¦¬λ“ μ‹μ¤ν… (3-4μ—΄)
- μ• λ‹λ©”μ΄μ…: νλ“ μ‹ λ°μ§μ΄λ” ν¨κ³Ό

---

## 6. UI/UX λ””μμΈ κ°€μ΄λ“

### 6.1 λ””μμΈ μ² ν•™

μ΄ μ‹μ¤ν…μ λ””μμΈμ€ 7μ„Έ μ–΄λ¦°μ΄λ¥Ό μ„ν• κ²ƒμ΄λ―€λ΅, λ‹¤μ μ›μΉ™μ„ λ”°λ¦…λ‹λ‹¤:

**μ§κ΄€μ„± (Intuitive):** λ³µμ΅ν• μ„¤λ… μ—†μ΄λ„ λ²„νΌμ κΈ°λ¥μ„ μ΄ν•΄ν•  μ μμ–΄μ•Ό ν•©λ‹λ‹¤. ν° μ•„μ΄μ½κ³Ό λ…ν™•ν• ν…μ¤νΈλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

**μΉκ·Όν•¨ (Friendly):** λ°μ€ μƒ‰μƒ, λ‘¥κ·Ό λ¨μ„λ¦¬, μ΄λ¨μ§€λ¥Ό ν™μ©ν•μ—¬ μΉκ·Όν• λλ‚μ„ μ¤λ‹λ‹¤.

**ν”Όλ“λ°± (Feedback):** λ¨λ“  μ•΅μ…μ— λ€ν•΄ μ¦‰κ°μ μΈ ν”Όλ“λ°±μ„ μ κ³µν•©λ‹λ‹¤. ν† μ¤νΈ λ©”μ‹μ§€, μ• λ‹λ©”μ΄μ…, μ†λ¦¬ ν¨κ³Ό λ“±μ„ ν™μ©ν•©λ‹λ‹¤.

**μ„±μ·¨κ° (Achievement):** ν¬μΈνΈ μ λ¦½, λ°°μ§€ νλ“, λ©ν‘ λ‹¬μ„± λ“± μ„±μ·¨κ°μ„ λλ‚„ μ μλ” μ”μ†λ¥Ό κ°•μ΅°ν•©λ‹λ‹¤.

### 6.2 μƒ‰μƒ ν”λ νΈ

μ΄ μ‹μ¤ν…μ€ λ°κ³  ν™κΈ°μ°¬ μƒ‰μƒμ„ μ‚¬μ©ν•©λ‹λ‹¤:

| μƒ‰μƒ | Hex Code | μ©λ„ |
|------|----------|------|
| μ£Ό μƒ‰μƒ (Primary) | `#6366f1` (μΈλ””κ³ ) | λ²„νΌ, λ§ν¬, κ°•μ΅° |
| λ³΄μ΅° μƒ‰μƒ (Secondary) | `#ec4899` (ν•‘ν¬) | λ°°μ§€, νΉλ³„ μ”μ† |
| μ„±κ³µ (Success) | `#10b981` (μ΄λ΅) | ν¬μΈνΈ μ λ¦½, μ •λ‹µ |
| κ²½κ³  (Warning) | `#f59e0b` (μ£Όν™©) | μ£Όμ λ©”μ‹μ§€ |
| μ¤λ¥ (Error) | `#ef4444` (λΉ¨κ°•) | ν¬μΈνΈ μ°¨κ°, μ¤λ‹µ |
| λ°°κ²½ (Background) | `#f9fafb` (λ°μ€ νμƒ‰) | νμ΄μ§€ λ°°κ²½ |
| μΉ΄λ“ (Card) | `#ffffff` (ν°μƒ‰) | μΉ΄λ“ λ°°κ²½ |
| ν…μ¤νΈ (Text) | `#111827` (μ§„ν• νμƒ‰) | λ³Έλ¬Έ ν…μ¤νΈ |
| λ³΄μ΅° ν…μ¤νΈ (Muted) | `#6b7280` (νμƒ‰) | λ¶€κ°€ μ •λ³΄ |

### 6.3 νƒ€μ΄ν¬κ·Έλν”Ό

**ν°νΈ ν¨λ°€λ¦¬:** μ‹μ¤ν… κΈ°λ³Έ ν°νΈ (San Francisco, Segoe UI, Roboto λ“±)λ¥Ό μ‚¬μ©ν•μ—¬ λΉ λ¥Έ λ΅λ”©κ³Ό μΌκ΄€μ„±μ„ λ³΄μ¥ν•©λ‹λ‹¤.

**ν°νΈ ν¬κΈ°:**
- μ λ© (Heading 1): 36px, κµµκ²
- λ¶€μ λ© (Heading 2): 24px, κµµκ²
- λ³Έλ¬Έ (Body): 16px, λ³΄ν†µ
- μ‘μ€ ν…μ¤νΈ (Small): 14px, λ³΄ν†µ
- λ²„νΌ ν…μ¤νΈ: 18px, κµµκ²

**ν–‰κ°„ (Line Height):**
- μ λ©: 1.2
- λ³Έλ¬Έ: 1.5

### 6.4 μ»΄ν¬λ„νΈ μ¤νƒ€μΌ

**λ²„νΌ:**
- ν¬κΈ°: μµμ† 44px λ†’μ΄ (ν„°μΉ μΉν™”μ )
- λ¨μ„λ¦¬: 8px λ‘¥κ·Ό λ¨μ„λ¦¬
- κ·Έλ¦Όμ: `0 2px 4px rgba(0, 0, 0, 0.1)`
- νΈλ²„ ν¨κ³Ό: μ•½κ°„ μ–΄λ‘μ›μ§
- ν΄λ¦­ ν¨κ³Ό: μ•½κ°„ μ‘μ•„μ§ (scale: 0.98)

**μΉ΄λ“:**
- λ°°κ²½: ν°μƒ‰
- λ¨μ„λ¦¬: 12px λ‘¥κ·Ό λ¨μ„λ¦¬
- κ·Έλ¦Όμ: `0 4px 6px rgba(0, 0, 0, 0.1)`
- ν¨λ”©: 16px
- νΈλ²„ ν¨κ³Ό: κ·Έλ¦Όμ κ°•ν™”

**μ…λ ¥ ν•„λ“:**
- λ†’μ΄: 44px
- λ¨μ„λ¦¬: 8px λ‘¥κ·Ό λ¨μ„λ¦¬
- ν…λ‘λ¦¬: 1px νμƒ‰
- ν¬μ»¤μ¤: νλ€μƒ‰ ν…λ‘λ¦¬

**μ•„μ΄μ½:**
- ν¬κΈ°: 24px (μΌλ°), 48px (ν° μ•„μ΄μ½)
- μ¤νƒ€μΌ: μ΄λ¨μ§€ λλ” Lucide React μ•„μ΄μ½

### 6.5 λ μ΄μ•„μ›ƒ

**μ»¨ν…μ΄λ„:**
- μµλ€ λ„λΉ„: 1200px
- μ¤‘μ•™ μ •λ ¬
- μΆμ° ν¨λ”©: 16px (λ¨λ°”μΌ), 24px (λ°μ¤ν¬ν†±)

**κ·Έλ¦¬λ“ μ‹μ¤ν…:**
- λ¨λ°”μΌ: 1μ—΄
- νƒλΈ”λ¦Ώ: 2μ—΄
- λ°μ¤ν¬ν†±: 3-4μ—΄
- κ°„κ²©: 16px

**μ—¬λ°±:**
- μ„Ήμ… κ°„: 48px
- μ”μ† κ°„: 16px
- μΉ΄λ“ λ‚΄λ¶€: 16px

### 6.6 μ• λ‹λ©”μ΄μ…

**νμ΄μ§€ μ „ν™:**
- νμ΄λ“ μΈ/μ•„μ›ƒ
- μ§€μ† μ‹κ°„: 200ms

**λ²„νΌ ν΄λ¦­:**
- μ¤μΌ€μΌ λ‹¤μ΄ (0.98)
- μ§€μ† μ‹κ°„: 100ms

**ν† μ¤νΈ λ©”μ‹μ§€:**
- μ¬λΌμ΄λ“ μΈ (μ•„λμ—μ„ μ„λ΅)
- μ§€μ† μ‹κ°„: 300ms
- μλ™ μ‚¬λΌμ§: 3μ΄ ν›„

**λ°°μ§€ νλ“:**
- λ°μ§μ΄λ” ν¨κ³Ό
- μ¤μΌ€μΌ μ—… (1.2)
- μ§€μ† μ‹κ°„: 500ms

### 6.7 λ°μ‘ν• λ””μμΈ

**λΈλ μ΄ν¬ν¬μΈνΈ:**
- λ¨λ°”μΌ: 0-640px
- νƒλΈ”λ¦Ώ: 641-1024px
- λ°μ¤ν¬ν†±: 1025px μ΄μƒ

**λ¨λ°”μΌ μµμ ν™”:**
- ν° λ²„νΌ (μµμ† 44px λ†’μ΄)
- κ°„λ‹¨ν• λ„¤λΉ„κ²μ΄μ…
- μ„Έλ΅ μ¤ν¬λ΅¤ μ°μ„ 
- ν„°μΉ μ μ¤μ² μ§€μ›

**νƒλΈ”λ¦Ώ μµμ ν™”:**
- 2μ—΄ κ·Έλ¦¬λ“
- μ‚¬μ΄λ“λ°” λ„¤λΉ„κ²μ΄μ… (μ„ νƒμ )
- κ°€λ΅/μ„Έλ΅ λ¨λ“ μ§€μ›

**λ°μ¤ν¬ν†± μµμ ν™”:**
- 3-4μ—΄ κ·Έλ¦¬λ“
- κ³ μ • μ‚¬μ΄λ“λ°” (μ„ νƒμ )
- λ§μ°μ¤ νΈλ²„ ν¨κ³Ό

### 6.8 μ ‘κ·Όμ„± (Accessibility)

**ν‚¤λ³΄λ“ λ„¤λΉ„κ²μ΄μ…:**
- Tab ν‚¤λ΅ λ¨λ“  μΈν„°λ™ν‹°λΈ μ”μ† μ ‘κ·Ό κ°€λ¥
- Enter ν‚¤λ΅ λ²„νΌ ν΄λ¦­
- Esc ν‚¤λ΅ λ‹¤μ΄μ–Όλ΅κ·Έ λ‹«κΈ°

**μƒ‰μƒ λ€λΉ„:**
- WCAG AA κΈ°μ¤€ μ¤€μ (4.5:1 μ΄μƒ)
- ν…μ¤νΈμ™€ λ°°κ²½ κ°„ μ¶©λ¶„ν• λ€λΉ„

**λ€μ²΄ ν…μ¤νΈ:**
- λ¨λ“  μ΄λ―Έμ§€μ— alt μ†μ„± μ¶”κ°€
- μ•„μ΄μ½μ— aria-label μ¶”κ°€

**ν¬μ»¤μ¤ ν‘μ‹:**
- ν¬μ»¤μ¤λ μ”μ†μ— λ…ν™•ν• ν…λ‘λ¦¬ ν‘μ‹
- νλ€μƒ‰ ν…λ‘λ¦¬ (2px)

---

## 7. ν™κ²½ μ„¤μ • λ° λ°°ν¬

### 7.1 κ°λ° ν™κ²½ μ„¤μ •

**ν•„μ μ†ν”„νΈμ›¨μ–΄:**
- Node.js 22.x μ΄μƒ
- pnpm 9.x μ΄μƒ
- Git

**ν”„λ΅μ νΈ ν΄λ΅ :**
```bash
git clone https://github.com/howpapa-sky/juwoo-point-system.git
cd juwoo-point-system
```

**μμ΅΄μ„± μ„¤μΉ:**
```bash
pnpm install
```

**ν™κ²½ λ³€μ μ„¤μ •:**

`.env` νμΌμ„ ν”„λ΅μ νΈ λ£¨νΈμ— μƒμ„±ν•κ³  λ‹¤μ λ³€μλ¥Ό μ„¤μ •ν•©λ‹λ‹¤:

```env
# Supabase
VITE_SUPABASE_URL=https://vqxuavqpevllzzgkpudp.supabase.co
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key

# λ°μ΄ν„°λ² μ΄μ¤ (μ„λ²„μ©)
DATABASE_URL=postgresql://postgres:password@db.vqxuavqpevllzzgkpudp.supabase.co:5432/postgres

# μ•± μ„¤μ •
VITE_APP_TITLE=μ£Όμ°μ ν¬μΈνΈ μ‹μ¤ν…
VITE_APP_LOGO=β­
```

**λ°μ΄ν„°λ² μ΄μ¤ μ΄κΈ°ν™”:**

Supabase Dashboardμ—μ„ SQL Editorλ¥Ό μ—΄κ³  μ„Ήμ… 3.4μ SQL μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.

**κ°λ° μ„λ²„ μ‹¤ν–‰:**
```bash
pnpm dev
```

λΈλΌμ°μ €μ—μ„ `http://localhost:3000`μΌλ΅ μ ‘μ†ν•©λ‹λ‹¤.

### 7.2 Supabase μ„¤μ •

**1. Supabase ν”„λ΅μ νΈ μƒμ„±:**
- https://supabase.com μ ‘μ†
- "New Project" ν΄λ¦­
- ν”„λ΅μ νΈ μ΄λ¦„: `juwoo_point`
- λ°μ΄ν„°λ² μ΄μ¤ λΉ„λ°€λ²νΈ μ„¤μ •
- λ¦¬μ „ μ„ νƒ: Asia Pacific (Seoul)

**2. API ν‚¤ ν™•μΈ:**
- Project Settings β†’ API
- `anon` key λ³µμ‚¬ν•μ—¬ `.env`μ `VITE_SUPABASE_ANON_KEY`μ— μ…λ ¥
- `service_role` keyλ” μ„λ²„μ—μ„λ§ μ‚¬μ© (λ³΄μ• μ£Όμ)

**3. λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° λ¬Έμμ—΄:**
- Project Settings β†’ Database
- Connection string λ³µμ‚¬ν•μ—¬ `.env`μ `DATABASE_URL`μ— μ…λ ¥

**4. Google OAuth μ„¤μ •:**
- Authentication β†’ Providers β†’ Google
- "Enable Sign in with Google" ν™μ„±ν™”
- Google Cloud Consoleμ—μ„ OAuth 2.0 Client ID μƒμ„±
- Client IDμ™€ Client Secret μ…λ ¥
- Authorized redirect URIsμ— Supabase Callback URL μ¶”κ°€:
  ```
  https://vqxuavqpevllzzgkpudp.supabase.co/auth/v1/callback
  ```

### 7.3 λ°°ν¬

**Manus Platform λ°°ν¬:**

μ΄ ν”„λ΅μ νΈλ” Manus Platformμ—μ„ κ°λ°λμ—μΌλ―€λ΅, λ‹¤μ λ‹¨κ³„λ΅ λ°°ν¬ν•  μ μμµλ‹λ‹¤:

1. Management UIμ—μ„ "Publish" λ²„νΌ ν΄λ¦­
2. λ°°ν¬ μ„¤μ • ν™•μΈ
3. λ°°ν¬ μ™„λ£ ν›„ κ³µκ° URL ν™•μΈ

**Vercel λ°°ν¬ (λ€μ•):**

```bash
# Vercel CLI μ„¤μΉ
npm install -g vercel

# ν”„λ΅μ νΈ λ°°ν¬
vercel

# ν™κ²½ λ³€μ μ„¤μ •
vercel env add VITE_SUPABASE_URL
vercel env add VITE_SUPABASE_ANON_KEY
vercel env add DATABASE_URL

# ν”„λ΅λ•μ… λ°°ν¬
vercel --prod
```

**ν™κ²½ λ³€μ μ„¤μ • (ν”„λ΅λ•μ…):**

λ°°ν¬ ν”λ«νΌμ ν™κ²½ λ³€μ μ„¤μ •μ—μ„ `.env` νμΌμ λ¨λ“  λ³€μλ¥Ό μ¶”κ°€ν•©λ‹λ‹¤.

### 7.4 λ°μ΄ν„° μ΄κΈ°ν™”

**ν¬μΈνΈ κ·μΉ™ λ°μ΄ν„° μ‚½μ…:**

`scripts/insert_point_rules.sh` μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•μ—¬ 37κ°μ ν¬μΈνΈ κ·μΉ™μ„ μ‚½μ…ν•©λ‹λ‹¤:

```bash
bash scripts/insert_point_rules.sh
```

**μƒμ  μ•„μ΄ν… λ°μ΄ν„° μ‚½μ…:**

`scripts/insert_shop_items.sh` μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•μ—¬ 34κ°μ μƒμ  μ•„μ΄ν…μ„ μ‚½μ…ν•©λ‹λ‹¤:

```bash
bash scripts/insert_shop_items.sh
```

**μμ–΄ λ‹¨μ–΄ λ°μ΄ν„° μ‚½μ…:**

`scripts/insert-english-words.sh` μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•μ—¬ 100κ°μ μμ–΄ λ‹¨μ–΄λ¥Ό μ‚½μ…ν•©λ‹λ‹¤:

```bash
bash scripts/insert-english-words.sh
```

**λ°°μ§€ λ°μ΄ν„° μ‚½μ…:**

Supabase Dashboardμ SQL Editorμ—μ„ λ‹¤μ SQLμ„ μ‹¤ν–‰ν•©λ‹λ‹¤:

```sql
INSERT INTO badges (name, description, icon, condition_type, condition_value) VALUES
('μ²« ν¬μΈνΈ', 'μ²« ν¬μΈνΈλ¥Ό νλ“ν–μ–΄μ”!', 'π', 'points', 1),
('100ν¬μΈνΈ', '100ν¬μΈνΈλ¥Ό λ¨μ•μ–΄μ”!', 'β­', 'points', 100),
('1000ν¬μΈνΈ', '1000ν¬μΈνΈλ¥Ό λ¨μ•μ–΄μ”!', 'π’«', 'points', 1000),
('μ²« κµ¬λ§¤', 'μ²« μƒμ  κµ¬λ§¤λ¥Ό ν–μ–΄μ”!', 'π›’', 'purchases', 1),
('10λ² κµ¬λ§¤', '10λ² κµ¬λ§¤λ¥Ό ν–μ–΄μ”!', 'π', 'purchases', 10),
('μ²« μμ–΄ λ‹¨μ–΄', 'μ²« μμ–΄ λ‹¨μ–΄λ¥Ό λ°°μ› μ–΄μ”!', 'π“', 'words', 1),
('50κ° λ‹¨μ–΄', '50κ° λ‹¨μ–΄λ¥Ό λ°°μ› μ–΄μ”!', 'π“–', 'words', 50),
('μ—°μ† 7μΌ', '7μΌ μ—°μ† μ ‘μ†ν–μ–΄μ”!', 'π”¥', 'streak', 7),
('μ—°μ† 30μΌ', '30μΌ μ—°μ† μ ‘μ†ν–μ–΄μ”!', 'π†', 'streak', 30),
('λ¨λ“  μΉ΄ν…κ³ λ¦¬', 'λ¨λ“  μΉ΄ν…κ³ λ¦¬λ¥Ό μ™„λ£ν–μ–΄μ”!', 'π‘‘', 'categories', 10);
```

### 7.5 λ¨λ‹ν„°λ§ λ° μ μ§€λ³΄μ

**λ΅κ·Έ ν™•μΈ:**

Supabase Dashboardμ—μ„ λ΅κ·Έλ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤:
- Database β†’ Logs
- API β†’ Logs

**λ°μ΄ν„°λ² μ΄μ¤ λ°±μ—…:**

Supabaseλ” μλ™μΌλ΅ λ°μ΄ν„°λ² μ΄μ¤λ¥Ό λ°±μ—…ν•©λ‹λ‹¤. μλ™ λ°±μ—…μ΄ ν•„μ”ν• κ²½μ°:
- Database β†’ Backups
- "Create Backup" ν΄λ¦­

**μ„±λ¥ λ¨λ‹ν„°λ§:**

Supabase Dashboardμ—μ„ μ„±λ¥ μ§€ν‘λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤:
- Database β†’ Performance
- API β†’ Performance

**μ¤λ¥ μ¶”μ :**

ν”„λ΅ νΈμ—”λ“ μ¤λ¥λ” λΈλΌμ°μ € μ½μ†”μ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. ν”„λ΅λ•μ… ν™κ²½μ—μ„λ” Sentry λ“±μ μ¤λ¥ μ¶”μ  λ„κµ¬λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ„ κ¶μ¥ν•©λ‹λ‹¤.

---

## 8. κ°λ° κ°€μ΄λ“

### 8.1 μ½”λ“ κµ¬μ΅°

**ν”„λ΅ νΈμ—”λ“ (Client):**

ν”„λ΅ νΈμ—”λ“λ” React 19μ™€ TypeScriptλ΅ μ‘μ„±λμ–΄ μμΌλ©°, λ‹¤μκ³Ό κ°™μ€ κµ¬μ΅°λ¥Ό λ”°λ¦…λ‹λ‹¤:

```typescript
// νμ΄μ§€ μ»΄ν¬λ„νΈ μμ‹ (client/src/pages/Dashboard.tsx)
import { trpc } from '@/lib/trpc';
import { useSupabaseAuth } from '@/contexts/SupabaseAuthContext';

export default function Dashboard() {
  const { user } = useSupabaseAuth();
  const { data: stats, isLoading } = trpc.dashboard.getStats.useQuery();

  if (isLoading) return <div>λ΅λ”© μ¤‘...</div>;
  if (!stats) return <div>λ°μ΄ν„°λ¥Ό λ¶λ¬μ¬ μ μ—†μµλ‹λ‹¤</div>;

  return (
    <div>
      <h1>λ€μ‹λ³΄λ“</h1>
      <p>ν„μ¬ ν¬μΈνΈ: {stats.currentPoints}</p>
      {/* ... */}
    </div>
  );
}
```

**λ°±μ—”λ“ (Server):**

λ°±μ—”λ“λ” tRPCλ¥Ό μ‚¬μ©ν•μ—¬ νƒ€μ… μ•μ „ν• APIλ¥Ό μ κ³µν•©λ‹λ‹¤:

```typescript
// λΌμ°ν„° μ •μ (server/routers.ts)
import { router, publicProcedure, protectedProcedure } from './_core/trpc';
import { z } from 'zod';
import * as db from './db';

export const appRouter = router({
  points: router({
    getRules: publicProcedure
      .input(z.object({ category: z.string().optional() }))
      .query(async ({ input }) => {
        return await db.getPointRules(input.category);
      }),
    
    addTransaction: protectedProcedure
      .input(z.object({
        ruleId: z.number(),
        note: z.string().optional(),
      }))
      .mutation(async ({ input, ctx }) => {
        const juwooId = ctx.user.id;
        return await db.addPointTransaction(juwooId, input.ruleId, input.note);
      }),
  }),
});
```

**λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬ (server/db.ts):**

λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬λ” Supabase ν΄λΌμ΄μ–ΈνΈλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤:

```typescript
// λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬ ν•¨μ (server/db.ts)
import { createClient } from '@supabase/supabase-js';

const supabase = createClient(
  process.env.VITE_SUPABASE_URL!,
  process.env.SUPABASE_SERVICE_ROLE_KEY!
);

export async function getPointRules(category?: string) {
  let query = supabase.from('point_rules').select('*');
  
  if (category) {
    query = query.eq('category', category);
  }
  
  const { data, error } = await query;
  
  if (error) throw error;
  
  // snake_caseλ¥Ό camelCaseλ΅ λ³€ν™
  return data.map(row => ({
    id: row.id,
    category: row.category,
    name: row.name,
    points: row.points,
    description: row.description,
    icon: row.icon,
    createdAt: new Date(row.created_at),
  }));
}
```

### 8.2 μƒλ΅μ΄ κΈ°λ¥ μ¶”κ°€ν•κΈ°

**1. λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μ¶”κ°€:**

`drizzle/schema.ts`μ— μƒ ν…μ΄λΈ” μ •μλ¥Ό μ¶”κ°€ν•©λ‹λ‹¤:

```typescript
export const newFeature = mysqlTable("new_feature", {
  id: int("id").autoincrement().primaryKey(),
  name: varchar("name", { length: 100 }).notNull(),
  createdAt: timestamp("createdAt").defaultNow().notNull(),
});
```

Supabase Dashboardμ—μ„ SQLμ„ μ‹¤ν–‰ν•μ—¬ ν…μ΄λΈ”μ„ μƒμ„±ν•©λ‹λ‹¤.

**2. λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬ ν•¨μ μ¶”κ°€:**

`server/db.ts`μ— μƒ μΏΌλ¦¬ ν•¨μλ¥Ό μ¶”κ°€ν•©λ‹λ‹¤:

```typescript
export async function getNewFeature() {
  const { data, error } = await supabase
    .from('new_feature')
    .select('*');
  
  if (error) throw error;
  return data;
}
```

**3. tRPC λΌμ°ν„° μ¶”κ°€:**

`server/routers.ts`μ— μƒ λΌμ°ν„°λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤:

```typescript
export const appRouter = router({
  // ... κΈ°μ΅΄ λΌμ°ν„°
  newFeature: router({
    getAll: publicProcedure.query(async () => {
      return await db.getNewFeature();
    }),
  }),
});
```

**4. ν”„λ΅ νΈμ—”λ“ νμ΄μ§€ μ¶”κ°€:**

`client/src/pages/NewFeature.tsx`μ— μƒ νμ΄μ§€λ¥Ό μƒμ„±ν•©λ‹λ‹¤:

```typescript
import { trpc } from '@/lib/trpc';

export default function NewFeature() {
  const { data, isLoading } = trpc.newFeature.getAll.useQuery();

  if (isLoading) return <div>λ΅λ”© μ¤‘...</div>;

  return (
    <div>
      <h1>μƒ κΈ°λ¥</h1>
      {/* ... */}
    </div>
  );
}
```

**5. λΌμ°νΈ μ¶”κ°€:**

`client/src/App.tsx`μ— μƒ λΌμ°νΈλ¥Ό μ¶”κ°€ν•©λ‹λ‹¤:

```typescript
<Route path="/new-feature" component={NewFeature} />
```

### 8.3 ν…μ¤νΈ

**λ‹¨μ„ ν…μ¤νΈ (Vitest):**

```bash
pnpm test
```

**E2E ν…μ¤νΈ (Playwright):**

```bash
pnpm test:e2e
```

**ν…μ¤νΈ μ‘μ„± μμ‹:**

```typescript
// server/routers.test.ts
import { describe, it, expect } from 'vitest';
import { appRouter } from './routers';

describe('Points Router', () => {
  it('should return all point rules', async () => {
    const caller = appRouter.createCaller({});
    const rules = await caller.points.getRules({});
    
    expect(rules).toBeInstanceOf(Array);
    expect(rules.length).toBeGreaterThan(0);
  });
});
```

### 8.4 μ½”λ“ μ¤νƒ€μΌ

**ESLint μ„¤μ •:**

ν”„λ΅μ νΈλ” ESLintλ¥Ό μ‚¬μ©ν•μ—¬ μ½”λ“ μ¤νƒ€μΌμ„ κ°•μ ν•©λ‹λ‹¤:

```bash
pnpm lint
```

**Prettier μ„¤μ •:**

μ½”λ“ ν¬λ§·ν…μ€ Prettierλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤:

```bash
pnpm format
```

**μ»¤λ°‹ λ©”μ‹μ§€ κ·μΉ™:**

```
feat: μƒλ΅μ΄ κΈ°λ¥ μ¶”κ°€
fix: λ²„κ·Έ μμ •
docs: λ¬Έμ„ μμ •
style: μ½”λ“ μ¤νƒ€μΌ λ³€κ²½ (ν¬λ§·ν…)
refactor: μ½”λ“ λ¦¬ν©ν† λ§
test: ν…μ¤νΈ μ¶”κ°€/μμ •
chore: λΉλ“ μ„¤μ • λ³€κ²½
```

### 8.5 λ¬Έμ  ν•΄κ²°

**μΌλ°μ μΈ λ¬Έμ :**

**λ¬Έμ  1: Supabase μ—°κ²° μ¤λ¥**
- μ›μΈ: μλ»λ API ν‚¤ λλ” URL
- ν•΄κ²°: `.env` νμΌμ `VITE_SUPABASE_URL`κ³Ό `VITE_SUPABASE_ANON_KEY`λ¥Ό ν™•μΈ

**λ¬Έμ  2: tRPC νƒ€μ… μ¤λ¥**
- μ›μΈ: μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„ νƒ€μ… λ¶μΌμΉ
- ν•΄κ²°: `pnpm build`λ¥Ό μ‹¤ν–‰ν•μ—¬ νƒ€μ…μ„ μ¬μƒμ„±

**λ¬Έμ  3: Google OAuth 403 μ¤λ¥**
- μ›μΈ: Authorized redirect URIs μ„¤μ • μ¤λ¥
- ν•΄κ²°: Google Cloud Consoleμ—μ„ Redirect URIλ¥Ό ν™•μΈ

**λ¬Έμ  4: λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μ¤λ¥**
- μ›μΈ: μλ»λ DATABASE_URL λλ” λ°©ν™”λ²½ μ„¤μ •
- ν•΄κ²°: Supabase Dashboardμ—μ„ μ—°κ²° λ¬Έμμ—΄μ„ ν™•μΈν•κ³ , IP ν™”μ΄νΈλ¦¬μ¤νΈλ¥Ό μ„¤μ •

**λ””λ²„κΉ… ν:**

- λΈλΌμ°μ € κ°λ°μ λ„κµ¬μ Network νƒ­μ—μ„ API μ”μ²­ ν™•μΈ
- Supabase Dashboardμ Logsμ—μ„ λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬ ν™•μΈ
- `console.log`λ¥Ό μ‚¬μ©ν•μ—¬ λ³€μ κ°’ μ¶λ ¥
- React DevToolsλ¥Ό μ‚¬μ©ν•μ—¬ μ»΄ν¬λ„νΈ μƒνƒ ν™•μΈ

---

## 9. μ°Έκ³  μλ£

### 9.1 κΈ°μ  λ¬Έμ„

- [React κ³µμ‹ λ¬Έμ„](https://react.dev/)
- [TypeScript κ³µμ‹ λ¬Έμ„](https://www.typescriptlang.org/)
- [tRPC κ³µμ‹ λ¬Έμ„](https://trpc.io/)
- [Supabase κ³µμ‹ λ¬Έμ„](https://supabase.com/docs)
- [Tailwind CSS κ³µμ‹ λ¬Έμ„](https://tailwindcss.com/)
- [shadcn/ui κ³µμ‹ λ¬Έμ„](https://ui.shadcn.com/)

### 9.2 κ΄€λ ¨ ν”„λ΅μ νΈ

- [Manus Platform](https://manus.im/)
- [Drizzle ORM](https://orm.drizzle.team/)
- [Wouter](https://github.com/molefrog/wouter)

### 9.3 μ»¤λ®¤λ‹ν‹°

- [Supabase Discord](https://discord.supabase.com/)
- [tRPC Discord](https://trpc.io/discord)
- [React Discord](https://discord.gg/react)

---

## 10. λΌμ΄μ„ μ¤ λ° μ €μ‘κ¶

μ΄ ν”„λ΅μ νΈλ” κ°μΈ ν”„λ΅μ νΈλ΅ μ μ‘λμ—μΌλ©°, μƒμ—…μ  μ‚¬μ©μ„ κΈμ§€ν•©λ‹λ‹¤. κµμ΅ λ©μ μΌλ΅λ§ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

**μ‘μ„±μ:** Manus AI  
**ν”„λ΅μ νΈ μ†μ μ:** howpapa-sky  
**GitHub λ¦¬ν¬μ§€ν† λ¦¬:** https://github.com/howpapa-sky/juwoo-point-system

---

## 11. λ³€κ²½ μ΄λ ¥

| λ²„μ „ | λ‚ μ§ | λ³€κ²½ λ‚΄μ© |
|------|------|-----------|
| 1.0 | 2025-11-17 | μ΄κΈ° λ²„μ „ μ‘μ„± |

---

**λ¬Έμ„ λ**

μ΄ κΈ°νμ„λ” μ£Όμ° ν¬μΈνΈ μ‹μ¤ν…μ λ¨λ“  μ‚¬μ–‘μ„ μƒμ„Έν•κ² λ¬Έμ„ν™”ν• κ²ƒμ…λ‹λ‹¤. λ‹¤λ¥Έ κ°λ°μκ°€ μ΄ λ¬Έμ„λ¥Ό μ°Έκ³ ν•μ—¬ λ™μΌν• μ‹μ¤ν…μ„ κµ¬ν„ν•  μ μμµλ‹λ‹¤. μ¶”κ°€ μ§λ¬Έμ΄λ‚ μμ • μ‚¬ν•­μ΄ μμΌλ©΄ μ–Έμ λ“ μ§€ λ¬Έμν•μ„Έμ”.


---

## 3. λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§

### 3.1 Supabase PostgreSQL ν…μ΄λΈ” κµ¬μ΅°

#### users (μ‚¬μ©μ)
```sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  open_id VARCHAR(64) UNIQUE NOT NULL,
  name TEXT,
  email VARCHAR(320),
  login_method VARCHAR(64),
  role VARCHAR(20) DEFAULT 'user' CHECK (role IN ('user', 'admin')),
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  last_signed_in TIMESTAMP DEFAULT NOW()
);
```

**ν•„λ“ μ„¤λ…:**
- `id`: μλ™ μ¦κ°€ κΈ°λ³Έ ν‚¤
- `open_id`: Supabase Authμ μ‚¬μ©μ κ³ μ  ID
- `name`: μ‚¬μ©μ μ΄λ¦„
- `email`: μ΄λ©”μΌ μ£Όμ†
- `login_method`: λ΅κ·ΈμΈ λ°©λ²• (email, google λ“±)
- `role`: μ‚¬μ©μ μ—­ν•  (user, admin)
- `created_at`: κ³„μ • μƒμ„± μ‹κ°„
- `updated_at`: λ§μ§€λ§‰ μ—…λ°μ΄νΈ μ‹κ°„
- `last_signed_in`: λ§μ§€λ§‰ λ΅κ·ΈμΈ μ‹κ°„

---

#### juwoo_profile (μ£Όμ° ν”„λ΅ν•„)
```sql
CREATE TABLE juwoo_profile (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  age INTEGER,
  total_points INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

**ν•„λ“ μ„¤λ…:**
- `id`: ν”„λ΅ν•„ ID (κΈ°λ³Έκ°’: 1)
- `name`: μ£Όμ°μ μ΄λ¦„
- `age`: λ‚μ΄
- `total_points`: λ„μ  ν¬μΈνΈ
- `created_at`: ν”„λ΅ν•„ μƒμ„± μ‹κ°„
- `updated_at`: λ§μ§€λ§‰ μ—…λ°μ΄νΈ μ‹κ°„

**μ΄κΈ° λ°μ΄ν„°:**
```sql
INSERT INTO juwoo_profile (id, name, age, total_points) 
VALUES (1, 'μ£Όμ°', 7, 0);
```

---

#### point_rules (ν¬μΈνΈ κ·μΉ™)
```sql
CREATE TABLE point_rules (
  id SERIAL PRIMARY KEY,
  category VARCHAR(50) NOT NULL,
  action VARCHAR(200) NOT NULL,
  points INTEGER NOT NULL,
  description TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_point_rules_category ON point_rules(category);
```

**ν•„λ“ μ„¤λ…:**
- `id`: κ·μΉ™ ID
- `category`: μΉ΄ν…κ³ λ¦¬ (μƒν™μµκ΄€, μ΄λ™κ±΄κ°•, ν•™μµλ…μ„, μμνƒλ„, μ§‘μ•μΌ, λ¶€μ •μ ν–‰λ™)
- `action`: ν–‰λ™ μ„¤λ…
- `points`: μ λ¦½/μ°¨κ° ν¬μΈνΈ (μ–‘μ: μ λ¦½, μμ: μ°¨κ°)
- `description`: μƒμ„Έ μ„¤λ…
- `created_at`: κ·μΉ™ μƒμ„± μ‹κ°„

**μΉ΄ν…κ³ λ¦¬λ³„ κ·μΉ™ κ°μ:**
- μƒν™μµκ΄€: 8κ°
- μ΄λ™κ±΄κ°•: 7κ°
- ν•™μµλ…μ„: 5κ°
- μμνƒλ„: 5κ°
- μ§‘μ•μΌ: 4κ°
- λ¶€μ •μ ν–‰λ™: 8κ° (μμ ν¬μΈνΈ)

---

#### shop_items (μƒμ  μ•„μ΄ν…)
```sql
CREATE TABLE shop_items (
  id SERIAL PRIMARY KEY,
  category VARCHAR(50) NOT NULL,
  name VARCHAR(200) NOT NULL,
  points_required INTEGER NOT NULL,
  description TEXT,
  image_url TEXT,
  available BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_shop_items_category ON shop_items(category);
CREATE INDEX idx_shop_items_available ON shop_items(available);
```

**ν•„λ“ μ„¤λ…:**
- `id`: μ•„μ΄ν… ID
- `category`: μΉ΄ν…κ³ λ¦¬ (κ²μ„μ‹κ°„, μ¥λ‚κ°, κ°„μ‹μμ‹, νΉλ³„ν™λ™, νΉκ¶)
- `name`: μ•„μ΄ν… μ΄λ¦„
- `points_required`: ν•„μ” ν¬μΈνΈ
- `description`: μƒμ„Έ μ„¤λ…
- `image_url`: μ΄λ―Έμ§€ URL (μ„ νƒ)
- `available`: κµ¬λ§¤ κ°€λ¥ μ—¬λ¶€
- `created_at`: μ•„μ΄ν… μƒμ„± μ‹κ°„

**μΉ΄ν…κ³ λ¦¬λ³„ μ•„μ΄ν… κ°μ:**
- κ²μ„μ‹κ°„: 7κ°
- μ¥λ‚κ°: 5κ°
- κ°„μ‹μμ‹: 7κ°
- νΉλ³„ν™λ™: 8κ°
- νΉκ¶: 7κ°

---

#### point_transactions (ν¬μΈνΈ κ±°λ λ‚΄μ—­)
```sql
CREATE TABLE point_transactions (
  id SERIAL PRIMARY KEY,
  juwoo_id INTEGER REFERENCES juwoo_profile(id),
  rule_id INTEGER REFERENCES point_rules(id),
  points INTEGER NOT NULL,
  balance_after INTEGER NOT NULL,
  note TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_point_transactions_juwoo ON point_transactions(juwoo_id);
CREATE INDEX idx_point_transactions_date ON point_transactions(created_at DESC);
```

**ν•„λ“ μ„¤λ…:**
- `id`: κ±°λ ID
- `juwoo_id`: μ£Όμ° ν”„λ΅ν•„ ID (μ™Έλ ν‚¤)
- `rule_id`: ν¬μΈνΈ κ·μΉ™ ID (μ™Έλ ν‚¤)
- `points`: μ λ¦½/μ°¨κ°λ ν¬μΈνΈ
- `balance_after`: κ±°λ ν›„ μ”μ•΅
- `note`: λ©”λ¨
- `created_at`: κ±°λ μ‹κ°„

---

#### purchases (κµ¬λ§¤ λ‚΄μ—­)
```sql
CREATE TABLE purchases (
  id SERIAL PRIMARY KEY,
  juwoo_id INTEGER REFERENCES juwoo_profile(id),
  item_id INTEGER REFERENCES shop_items(id),
  points_spent INTEGER NOT NULL,
  status VARCHAR(20) DEFAULT 'pending' CHECK (status IN ('pending', 'approved', 'rejected', 'completed')),
  purchased_at TIMESTAMP DEFAULT NOW(),
  completed_at TIMESTAMP
);

CREATE INDEX idx_purchases_juwoo ON purchases(juwoo_id);
CREATE INDEX idx_purchases_status ON purchases(status);
CREATE INDEX idx_purchases_date ON purchases(purchased_at DESC);
```

**ν•„λ“ μ„¤λ…:**
- `id`: κµ¬λ§¤ ID
- `juwoo_id`: μ£Όμ° ν”„λ΅ν•„ ID (μ™Έλ ν‚¤)
- `item_id`: μƒμ  μ•„μ΄ν… ID (μ™Έλ ν‚¤)
- `points_spent`: μ‚¬μ©ν• ν¬μΈνΈ
- `status`: κµ¬λ§¤ μƒνƒ (pending, approved, rejected, completed)
- `purchased_at`: κµ¬λ§¤ μ”μ²­ μ‹κ°„
- `completed_at`: μ™„λ£ μ‹κ°„

---

#### english_words (μμ–΄ λ‹¨μ–΄)
```sql
CREATE TABLE english_words (
  id SERIAL PRIMARY KEY,
  word VARCHAR(100) NOT NULL,
  meaning VARCHAR(200) NOT NULL,
  category VARCHAR(50) NOT NULL,
  difficulty INTEGER DEFAULT 1 CHECK (difficulty BETWEEN 1 AND 5),
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_english_words_category ON english_words(category);
CREATE INDEX idx_english_words_difficulty ON english_words(difficulty);
```

**ν•„λ“ μ„¤λ…:**
- `id`: λ‹¨μ–΄ ID
- `word`: μμ–΄ λ‹¨μ–΄
- `meaning`: ν•κΈ€ λ»
- `category`: μΉ΄ν…κ³ λ¦¬ (λ™λ¬Ό, μƒ‰κΉ”, μμ‹, κ°€μ΅±, μ«μ, μ‹ μ²΄, ν•™κµ, λ‚ μ”¨, λ™μ‚¬, ν•μ©μ‚¬)
- `difficulty`: λ‚μ΄λ„ (1-5)
- `created_at`: λ‹¨μ–΄ μƒμ„± μ‹κ°„

**μΉ΄ν…κ³ λ¦¬λ³„ λ‹¨μ–΄ κ°μ:** κ° 10κ° (μ΄ 100κ°)

---

#### word_learning_progress (λ‹¨μ–΄ ν•™μµ μ§„λ„)
```sql
CREATE TABLE word_learning_progress (
  id SERIAL PRIMARY KEY,
  juwoo_id INTEGER REFERENCES juwoo_profile(id),
  word_id INTEGER REFERENCES english_words(id),
  correct_count INTEGER DEFAULT 0,
  incorrect_count INTEGER DEFAULT 0,
  last_practiced TIMESTAMP,
  mastered BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(juwoo_id, word_id)
);

CREATE INDEX idx_word_progress_juwoo ON word_learning_progress(juwoo_id);
CREATE INDEX idx_word_progress_mastered ON word_learning_progress(mastered);
```

**ν•„λ“ μ„¤λ…:**
- `id`: μ§„λ„ ID
- `juwoo_id`: μ£Όμ° ν”„λ΅ν•„ ID (μ™Έλ ν‚¤)
- `word_id`: λ‹¨μ–΄ ID (μ™Έλ ν‚¤)
- `correct_count`: μ •λ‹µ νμ
- `incorrect_count`: μ¤λ‹µ νμ
- `last_practiced`: λ§μ§€λ§‰ ν•™μµ μ‹κ°„
- `mastered`: λ§μ¤ν„° μ—¬λ¶€ (μ •λ‹µ 3ν μ΄μƒ)
- `created_at`: μ§„λ„ μƒμ„± μ‹κ°„

---

#### badges (λ°°μ§€/μ—…μ )
```sql
CREATE TABLE badges (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  description TEXT,
  icon VARCHAR(50),
  condition_type VARCHAR(50) NOT NULL,
  condition_value INTEGER,
  created_at TIMESTAMP DEFAULT NOW()
);
```

**ν•„λ“ μ„¤λ…:**
- `id`: λ°°μ§€ ID
- `name`: λ°°μ§€ μ΄λ¦„
- `description`: λ°°μ§€ μ„¤λ…
- `icon`: μ•„μ΄μ½ μ΄λ¦„ (lucide-react μ•„μ΄μ½)
- `condition_type`: μ΅°κ±΄ νƒ€μ… (points, words, streak λ“±)
- `condition_value`: μ΅°κ±΄ κ°’
- `created_at`: λ°°μ§€ μƒμ„± μ‹κ°„

**λ°°μ§€ λ©λ΅ (10κ°):**
1. μ²« ν¬μΈνΈ (μ΅°κ±΄: 1ν¬μΈνΈ μ΄μƒ)
2. 100ν¬μΈνΈ λ‹¬μ„±
3. 500ν¬μΈνΈ λ‹¬μ„±
4. 1000ν¬μΈνΈ λ‹¬μ„±
5. μ²« μμ–΄ λ‹¨μ–΄ ν•™μµ
6. 10κ° λ‹¨μ–΄ λ§μ¤ν„°
7. 50κ° λ‹¨μ–΄ λ§μ¤ν„°
8. 100κ° λ‹¨μ–΄ λ§μ¤ν„°
9. 7μΌ μ—°μ† ν•™μµ
10. μ²« μƒμ  κµ¬λ§¤

---

#### user_badges (νλ“ν• λ°°μ§€)
```sql
CREATE TABLE user_badges (
  id SERIAL PRIMARY KEY,
  juwoo_id INTEGER REFERENCES juwoo_profile(id),
  badge_id INTEGER REFERENCES badges(id),
  earned_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(juwoo_id, badge_id)
);

CREATE INDEX idx_user_badges_juwoo ON user_badges(juwoo_id);
CREATE INDEX idx_user_badges_date ON user_badges(earned_at DESC);
```

**ν•„λ“ μ„¤λ…:**
- `id`: νλ“ ID
- `juwoo_id`: μ£Όμ° ν”„λ΅ν•„ ID (μ™Έλ ν‚¤)
- `badge_id`: λ°°μ§€ ID (μ™Έλ ν‚¤)
- `earned_at`: νλ“ μ‹κ°„

---

#### goals (λ©ν‘)
```sql
CREATE TABLE goals (
  id SERIAL PRIMARY KEY,
  juwoo_id INTEGER REFERENCES juwoo_profile(id),
  item_id INTEGER REFERENCES shop_items(id),
  target_points INTEGER NOT NULL,
  current_progress INTEGER DEFAULT 0,
  status VARCHAR(20) DEFAULT 'active' CHECK (status IN ('active', 'completed', 'cancelled')),
  created_at TIMESTAMP DEFAULT NOW(),
  completed_at TIMESTAMP
);

CREATE INDEX idx_goals_juwoo ON goals(juwoo_id);
CREATE INDEX idx_goals_status ON goals(status);
```

**ν•„λ“ μ„¤λ…:**
- `id`: λ©ν‘ ID
- `juwoo_id`: μ£Όμ° ν”„λ΅ν•„ ID (μ™Έλ ν‚¤)
- `item_id`: λ©ν‘ μ•„μ΄ν… ID (μ™Έλ ν‚¤)
- `target_points`: λ©ν‘ ν¬μΈνΈ
- `current_progress`: ν„μ¬ μ§„ν–‰λ¥  (ν¬μΈνΈ)
- `status`: λ©ν‘ μƒνƒ (active, completed, cancelled)
- `created_at`: λ©ν‘ μƒμ„± μ‹κ°„
- `completed_at`: μ™„λ£ μ‹κ°„

---

### 3.2 λ°μ΄ν„°λ² μ΄μ¤ κ΄€κ³„λ„

```
users (μΈμ¦)
  β†“
juwoo_profile (ν”„λ΅ν•„)
  β”β”€β”€ point_transactions (ν¬μΈνΈ λ‚΄μ—­) β†’ point_rules
  β”β”€β”€ purchases (κµ¬λ§¤ λ‚΄μ—­) β†’ shop_items
  β”β”€β”€ word_learning_progress (ν•™μµ μ§„λ„) β†’ english_words
  β”β”€β”€ user_badges (νλ“ λ°°μ§€) β†’ badges
  β””β”€β”€ goals (λ©ν‘) β†’ shop_items
```

---

### 3.3 λ°μ΄ν„°λ² μ΄μ¤ μ μ•½ μ΅°κ±΄

1. **μ™Έλ ν‚¤ μ μ•½:**
   - λ¨λ“  μ™Έλ ν‚¤λ” `ON DELETE CASCADE` λλ” `ON DELETE SET NULL` μ„¤μ •
   - μ£Όμ” λ°μ΄ν„° μ‚­μ  μ‹ κ΄€λ ¨ λ°μ΄ν„° μλ™ μ²λ¦¬

2. **κ³ μ  μ μ•½:**
   - `users.open_id`: μ¤‘λ³µ λ¶κ°€
   - `word_learning_progress(juwoo_id, word_id)`: μ¤‘λ³µ λ¶κ°€
   - `user_badges(juwoo_id, badge_id)`: μ¤‘λ³µ λ¶κ°€

3. **μ²΄ν¬ μ μ•½:**
   - `users.role`: 'user' λλ” 'admin'λ§ ν—μ©
   - `purchases.status`: 'pending', 'approved', 'rejected', 'completed'λ§ ν—μ©
   - `goals.status`: 'active', 'completed', 'cancelled'λ§ ν—μ©
   - `english_words.difficulty`: 1-5 λ²”μ„

4. **κΈ°λ³Έκ°’:**
   - λ¨λ“  `created_at`: ν„μ¬ μ‹κ°„
   - `juwoo_profile.total_points`: 0
   - `shop_items.available`: true
   - `purchases.status`: 'pending'
   - `goals.status`: 'active'

